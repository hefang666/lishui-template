(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b2841ad"],{"0ef1":function(t,e,i){"use strict";var a=i("db61"),s=i.n(a);s.a},"12aa":function(t,e,i){},1427:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-box"},[i("el-input",{attrs:{placeholder:t.placeholder,"prefix-icon":t.icon},on:{input:t.changeWords},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.searchWords,callback:function(e){t.searchWords=e},expression:"searchWords"}}),t.isButton?i("el-button",{staticClass:"search-button",attrs:{type:"primary",loading:t.loading},domProps:{innerHTML:t._s(t.text)},on:{click:t.submit}}):t._e()],1)},s=[],l={props:{icon:{type:String,default:"el-icon-search"},text:{type:String,default:"查询"},isButton:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入内容"},loading:{type:Boolean,default:!1}},data:function(){return{searchWords:""}},methods:{submit:function(){this.$emit("submit",this.searchWords)},changeWords:function(t){this.$emit("changeSearch",t)}}},n=l,o=(i("fc27"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,null,null);e["a"]=c.exports},"2f3b":function(t,e,i){},3535:function(t,e,i){},"46ff":function(t,e,i){},5793:function(t,e,i){"use strict";var a=i("b71d"),s=i.n(a);s.a},"5ed9":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"task_management_pages button-box"},[i("div",{staticClass:"header-box"},[i("div",{staticClass:"header-left"},[i("snt-search",{attrs:{placeholder:"请输入姓名"},on:{submit:t.handlesubmit}})],1),i("div",{staticClass:"header-right button-box"},[i("div",{staticClass:"date-box"},[i("el-button-group",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.See}},[t._v("查看")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.attenadanceSee}},[t._v("出勤查看")]),i("el-button",{attrs:{type:"primary",plain:""}},[t._v("出勤导出")])],1),i("el-date-picker",{staticClass:"attendance-box",attrs:{type:"month","picker-options":t.pickerOptions,placeholder:"出勤导出"},on:{change:t.handechange},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.exportData}},[t._v("导出")])],1)]),i("div",{staticClass:"content-box"},[i("div",{staticClass:"table-box"},[i("el-table",{directives:[{name:"load",rawName:"v-load",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.personList,stripe:!0,"tooltip-effect":"dark",border:"",height:"830"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),i("el-table-column",{attrs:{prop:"userName",label:"人员姓名","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"orgName",label:"所属部门","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"mobile",label:"联系方式","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"onlineTime",label:"今日上线时间","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"offlineTime",label:"今日离线时间","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"工作情况","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"operate-box"},[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.handleSee(e.row)}}},[t._v("查看")]),i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.AttenadanceCheck(e.row)}}},[t._v("出勤查看")])],1)]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:t.total},on:{changePageSize:t.changePageSize,changeCurrentPage:t.changeCurrentPage}})],1),i("message",{attrs:{"dialog-message":t.dialogMessage,message:t.messageText},on:{closeMessage:t.closeMessage}}),i("working",{attrs:{"dialog-working":t.dialogWorking},on:{getWorkingData:t.getWorkingData}}),i("attendance",{attrs:{"dialog-attend":t.dialogAttend,"attendance-id":t.dialogAttendID},on:{getAttendData:t.getAttendData}})],1)},s=[],l=i("5530"),n=i("7a3b"),o=i("1427"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"workingConditions-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"任务详情",visible:t.dialogWorking,"before-close":t.closeWorking},on:{"update:visible":function(e){t.dialogWorking=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"tabs-box"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"综合情况",name:"generalSituation"}},[i("div",{staticClass:"basicInfo-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("当前负责巡检计划：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.currentPlanCount)+"件")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("当前计划巡检设备：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.currentDeviceCount)+"个")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年完成巡检任务：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.taskCount)+"个")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年完成巡检设备：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.deviceCount)+"个")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年累计巡检管道：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.pipelineCount)+"公里")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年累计上报事件：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.eventCount)+"件")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年累计暂停时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.suspendTimeStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年累计关闭任务：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.taskCloseCount)+"件")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年累计完成工单：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.details.workOrderCount)+"件")])])])])])]),i("el-tab-pane",{attrs:{label:"负责计划",name:"planning"}},[i("div",{staticClass:"plainning-box"},[i("div",{staticClass:"table-box"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.planList,stripe:!0,"tooltip-effect":"dark",height:"400","highlight-current-row":!0},on:{"row-click":t.clickPlanRow}},[i("el-table-column",{attrs:{align:"center",prop:"name",label:"计划名称"}}),i("el-table-column",{attrs:{align:"center",prop:"cycleStr",label:"巡检周期"}}),i("el-table-column",{attrs:{align:"center",prop:"person",label:"负责人"}}),i("el-table-column",{attrs:{align:"center",prop:"endTime",label:"预计到期时间"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"计划状态"}}),i("el-table-column",{attrs:{align:"center",width:"70",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.SeePlan(e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:t.planTotal},on:{changePageSize:t.changePlanPageSize,changeCurrentPage:t.changePlanCurrentPage}})],1)]),i("el-tab-pane",{attrs:{label:"负责任务",name:"task"}},[i("div",{staticClass:"task-box"},[i("div",{staticClass:"table-box"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.taskList,stripe:!0,"tooltip-effect":"dark",height:"400","highlight-current-row":!0},on:{"row-click":t.clickPlanRow}},[i("el-table-column",{attrs:{align:"center",prop:"name",label:"任务名称"}}),i("el-table-column",{attrs:{align:"center",prop:"typeStr",label:"任务类别"}}),i("el-table-column",{attrs:{align:"center",prop:"person",label:"负责人"}}),i("el-table-column",{attrs:{align:"center","min-width":"120",prop:"endTime",label:"实际完成时间"}}),i("el-table-column",{attrs:{align:"center",prop:"suspendTimeStr",label:"暂停时长"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"任务状态"}}),i("el-table-column",{attrs:{align:"center",width:"70",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.SeeTask(e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:t.taskTotal},on:{changePageSize:t.changeTaskPageSize,changeCurrentPage:t.changeTaskCurrentPage}})],1)]),i("el-tab-pane",{attrs:{label:"负责工单",name:"workOrder"}},[i("div",{staticClass:"workOrder-box"},[i("div",{staticClass:"table-box"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.orderList,stripe:!0,"tooltip-effect":"dark",height:"400","highlight-current-row":!0},on:{"row-click":t.clickPlanRow}},[i("el-table-column",{attrs:{align:"center",prop:"typeStr",label:"工单类型"}}),i("el-table-column",{attrs:{align:"center",prop:"person",label:"负责人"}}),i("el-table-column",{attrs:{align:"center",prop:"createTime",label:"提交时间"}}),i("el-table-column",{attrs:{align:"center",prop:"completeTime",label:"完成时间"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"工单状态"}}),i("el-table-column",{attrs:{align:"center",width:"70",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.SeeOrder(e.row)}}},[t._v(" 查看 ")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:t.orderTotal},on:{changePageSize:t.changeOrderPageSize,changeCurrentPage:t.changeOrderCurrentPage}})],1)])],1)],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeWorking}},[t._v("取 消")])],1)]),i("plan-detail",{attrs:{"dialog-plan-detail":t.dialogPlanDetail},on:{getPlanDetailData:t.getPlanDetailData}}),i("order-detail",{attrs:{"dialog-order-detail":t.dialogOrderDetail},on:{getOrderDetailData:t.getOrderDetailData}}),i("view-task",{attrs:{"dialog-view":t.dialogView},on:{getViewData:t.getViewData}})],1)},r=[],d=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"planDetail-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"计划详情",visible:t.dialogPlanDetail,"before-close":t.closePlan},on:{"update:visible":function(e){t.dialogPlanDetail=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"plan-content-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("计划名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.planDetails.name))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("负责人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.planDetails.person))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("巡检片区：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.planDetails.areaName))]),i("el-button",{staticClass:"view-button",on:{click:t.viewRoute}},[t._v(" 查看路线 ")])],1)]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("参与人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.planDetails.participant))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("计划时效：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.planDetails.endTime))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("计划周期：")]),i("div",{staticClass:"item-content"},t._l(t.planDetails.taskLists,(function(e,a){return i("div",{key:a,staticClass:"cycle-box"},[t._v(" "+t._s(e.beginTime)+"——"+t._s(e.endTime)+" ")])})),0)])])])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closePlan}},[t._v("取 消")])],1)]),i("view-route",{attrs:{"dialog-route":t.dialogRoute},on:{getRouteData:t.getRouteData}})],1)}),m=[],v=i("597c"),u=i("2f62"),p=Object(u["a"])("planManagement"),g=p.mapState,h={name:"PlanDetail",props:["dialogPlanDetail"],components:{ViewRoute:v["a"]},computed:Object(l["a"])({},g(["planDetails"])),data:function(){return{dialogRoute:!1}},methods:{closePlan:function(){var t={dialogPlanDetail:!1};this.$emit("getPlanDetailData",t)},viewRoute:function(){this.dialogRoute=!0},getRouteData:function(t){this.dialogRoute=t.dialogRoute}}},C=h,b=(i("63e6"),i("2877")),f=Object(b["a"])(C,d,m,!1,null,"18a42e3c",null),_=f.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"planDetail-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"工单详情",visible:t.dialogOrderDetail,"before-close":t.closeOrder},on:{"update:visible":function(e){t.dialogOrderDetail=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"plan-content-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("工单类型：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("负责人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("工单内容：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("3小时20分")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("附件：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("3小时20分")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备编号：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备坐标点：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("地址：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("异常类型：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("事件类型：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("事件提交时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("报告人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("联系方式：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("事件状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("提交工单时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("巡检内容：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("损坏：")]),i("div",{staticClass:"item-content"},[i("span",[t._v("2019-01-01 18:00")])])])])])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeOrder}},[t._v("取 消")])],1)]),i("view-route",{attrs:{"dialog-route":t.dialogRoute},on:{getRouteData:t.getRouteData}})],1)},w=[],P={name:"OrderDetail",props:["dialogOrderDetail"],components:{ViewRoute:v["a"]},data:function(){return{dialogRoute:!1}},methods:{closeOrder:function(){var t={dialogOrderDetail:!1};this.$emit("getOrderDetailData",t)},viewRoute:function(){this.dialogRoute=!0},getRouteData:function(t){this.dialogRoute=t.dialogRoute}}},D=P,x=(i("d322"),Object(b["a"])(D,k,w,!1,null,"7359ebfc",null)),S=x.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addTask-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"任务详情",visible:t.dialogView,"before-close":t.closeView},on:{"update:visible":function(e){t.dialogView=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"tabs-box"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"基础信息",name:"basicInfo"}},[i("div",{staticClass:"basicInfo-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.name))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务负责人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.person))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.statusStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("参与人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.participant))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务类别：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.typeStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("预计结束时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.planEndTime))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("实际结束时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.endTime))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("开始时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.startTime))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("暂停时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.pauseTime))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("巡检片区：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.areaName))]),i("el-button",{staticClass:"view-button",on:{click:t.viewRoute}},[t._v("查看路线")])],1)])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("备注：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.remark))])])])])])]),i("el-tab-pane",{attrs:{label:"设备点巡检信息",name:"equipmentInfo"}},[i("div",{staticClass:"equipmentInfo-box"},[i("div",{staticClass:"table-box"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.inspectionPointList,stripe:!0,"tooltip-effect":"dark",height:"400",border:"","highlight-current-row":!0}},[i("el-table-column",{attrs:{align:"center",prop:"name",label:"设备名称"}}),i("el-table-column",{attrs:{align:"center",prop:"code",label:"设备编号"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"设备点情况"}}),i("el-table-column",{attrs:{align:"center",prop:"inspectionStatusStr",label:"巡检状态"}}),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.handleSee(e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:400},on:{changePageSize:t.changePageSize,changeCurrentPage:t.changeCurrentPage}})],1)]),i("el-tab-pane",{attrs:{label:"巡检路径",name:"inspectionPath"}},[i("div",{staticClass:"inspectionPath-box"},[i("div",{staticClass:"map-box"},[i("map-route",{ref:"map",attrs:{mapid:"ss_"+t.taskDetail.areaId}})],1),i("div",{staticClass:"inspectionPath-info-box button-box"},[i("div",{staticClass:"inspectionPath-info-item"},[i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 巡检路线： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" "+t._s(t.taskDetail.areaName)+" ")])]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 设备点数： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" "+t._s(t.areaDetail.pointCount)+" ")])]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 管道长度： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" "+t._s(t.areaDetail.pipelineLength)+" ")])])]),i("div",{staticClass:"inspectionPath-info-item"},[i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 规划路径： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[i("el-button",{attrs:{type:"primary",plain:""}},[t._v(" 显示 ")])],1)]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 预计里程： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 1.95km ")])]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 预计花费时间： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 0.10小时 ")])])]),i("div",{staticClass:"inspectionPath-info-item"},[i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 实际路径： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[i("el-button",{attrs:{type:"primary",plain:""}},[t._v(" 隐藏 ")])],1)]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 实际花费时间： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 0.00小时 ")])])])])])])],1)],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeView}},[t._v("取 消")])],1)]),i("equipment-info",{attrs:{"dialog-equi":t.dialogEqui},on:{getEquiData:t.getEquiData}}),i("view-route",{attrs:{"dialog-route":t.dialogRoute},on:{getRouteData:t.getRouteData}})],1)},y=[],T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"equipment-Information-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"设备点巡检任务详情",visible:t.dialogEqui,"before-close":t.closeEqui},on:{"update:visible":function(e){t.dialogEqui=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"equip-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.name))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备编号：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.code))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点坐标：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.point))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点巡检时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.time))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("巡检状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.inspectionStatus))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.statusStr))])])])]),i("div",{class:["list-item",3==t.pointDetails.status?"has-two-item":""]},[3==t.pointDetails.status?i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("异常类型：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.errorType))])])]):t._e(),i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("地址：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.address))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("巡检内容：")]),i("div",{staticClass:"item-content"},[i("div",{staticClass:"content-text"},[t._v(" "+t._s(t.pointDetails.content)+" ")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("附件：")]),i("div",{staticClass:"item-content"},[i("div",{staticClass:"enclosure-box"},t._l(t.pointDetails.resourcelist,(function(e,a){return i("div",{key:a,staticClass:"enclosure-item"},[i("div",{staticClass:"enclosure-title"},[t._v(t._s(e.fileName))]),i("div",{staticClass:"enclosure-download"},[t._v("下载")]),i("div",{staticClass:"enclosure-preview"},[t._v("预览")])])})),0)])])])])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeEqui}},[t._v("取 消")])],1)])],1)},I=[],R=Object(u["a"])("taskManagement"),j=R.mapState,A={name:"EquipmentInformation",props:["dialogEqui"],data:function(){return{}},computed:Object(l["a"])({},j(["pointDetails"])),methods:{closeEqui:function(){var t={dialogEqui:!1,data:[]};this.$emit("getEquiData",t)}}},W=A,z=(i("0ef1"),Object(b["a"])(W,T,I,!1,null,"b6598116",null)),E=z.exports,q=i("2a59"),L=Object(u["a"])("taskManagement"),M=L.mapState,N=L.mapActions,V=Object(u["a"])("area"),$=V.mapActions,G={name:"AddTask",props:["dialogView"],components:{Page:n["a"],EquipmentInfo:E,ViewRoute:v["a"],MapRoute:q["a"]},data:function(){return{activeName:"basicInfo",checkedName:"",dialogEqui:!1,dialogRoute:!1}},computed:Object(l["a"])({},M(["taskDetail","inspectionPointList","areaDetail"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},N(["GetInspectionPointList","GetPointDetails","GetAreaByTaskId"])),$(["getAreaDetailInfo"])),{},{closeView:function(){var t={dialogView:!1,data:[]};this.$emit("getViewData",t)},viewRoute:function(){var t={Id:this.taskDetail.areaId};this.getAreaDetailInfo(t),this.dialogRoute=!0},handleClick:function(t,e){if(console.log(t,e),"equipmentInfo"==t.name){var i={Id:this.taskDetail.id,pageIndex:1,maxResultCount:30};this.GetInspectionPointList(i)}else if("inspectionPath"==t.name){var a={Id:this.taskDetail.id};this.GetAreaByTaskId(a)}},changePageSize:function(t){console.log(t)},changeCurrentPage:function(t){console.log(t)},handleSee:function(t){var e={id:t.id,status:t.status};this.GetPointDetails(e),this.dialogEqui=!0},getEquiData:function(t){this.dialogEqui=t.dialogEqui},getRouteData:function(t){this.dialogRoute=t.dialogRoute}})},B=G,U=(i("83fd"),Object(b["a"])(B,O,y,!1,null,"022d224c",null)),J=U.exports,H=Object(u["a"])("personManagement"),F=H.mapState,K=H.mapActions,Q=Object(u["a"])("planManagement"),X=Q.mapActions,Y=Object(u["a"])("taskManagement"),Z=Y.mapActions,tt=Object(u["a"])("workOrderManagement"),et=tt.mapActions,it={name:"AddTask",props:["dialogWorking"],components:{Page:n["a"],PlanDetail:_,ViewTask:J,OrderDetail:S},computed:Object(l["a"])({},F(["details","checkedId","taskList","planList","orderList","taskTotal","planTotal","orderTotal"])),data:function(){return{activeName:"generalSituation",checkedName:"",dialogPlanDetail:!1,dialogOrderDetail:!1,dialogView:!1,planCurrentPage:1,planPageSize:30,taskCurrentPage:1,taskPageSize:30,orderCurrentPage:1,orderPageSize:30}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},K(["getPlan","getTask","getOrder"])),X(["getPlanDetails"])),Z(["GetTaskDetails"])),et(["GetWorkOrderDetails"])),{},{closeWorking:function(){var t={dialogWorking:!1,data:[]};this.$emit("getWorkingData",t)},viewRoute:function(){this.dialogRoute=!0},handleClick:function(t){"planning"==t.name?this.getPlanList():"task"==t.name?this.getTaskList():"workOrder"==t.name&&this.getOrderList()},getPlanList:function(){var t={userId:this.checkedId,pageIndex:this.planCurrentPage,maxResultCount:this.planPageSize};console.log(t),this.getPlan(t)},getTaskList:function(){var t={userId:this.checkedId,pageIndex:this.taskCurrentPage,maxResultCount:this.taskPageSize};console.log(t),this.getTask(t)},getOrderList:function(){var t={userId:this.checkedId,pageIndex:this.taskCurrentPage,maxResultCount:this.taskPageSize};console.log(t),this.getOrder(t)},changePlanPageSize:function(t){console.log(t),this.planPageSize=t},changePlanCurrentPage:function(t){console.log(t),this.planCurrentPage=t},changeTaskPageSize:function(t){console.log(t),this.taskPageSize=t},changeTaskCurrentPage:function(t){console.log(t),this.taskCurrentPage=t},changeOrderPageSize:function(t){console.log(t),this.orderPageSize=t},changeOrderCurrentPage:function(t){console.log(t),this.orderCurrentPage=t},SeePlan:function(t){var e=this,i={id:t.id};this.getPlanDetails(i).then((function(t){t.success&&(e.dialogPlanDetail=!0)})).catch((function(){console.log("获取失败了")}))},SeeTask:function(t){var e=this,i={id:t.id};this.GetTaskDetails(i).then((function(t){t.success&&(e.dialogView=!0)})).catch((function(){console.log("获取失败")}))},SeeOrder:function(t){var e=this,i={id:t.id};this.GetWorkOrderDetails(i).then((function(t){t.success&&(e.dialogOrderDetail=!0)})).catch((function(){console.log("获取失败")}))},clickPlanRow:function(t){console.log(t),this.checkedName=t.name},getPlanDetailData:function(t){this.dialogPlanDetail=t.dialogPlanDetail},getOrderDetailData:function(t){this.dialogOrderDetail=t.dialogOrderDetail},getViewData:function(t){this.dialogView=t.dialogView}})},at=it,st=(i("63a5"),Object(b["a"])(at,c,r,!1,null,"5052230d",null)),lt=st.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"choosePeople-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"出勤查看",visible:t.dialogAttend,"before-close":t.closeAttend},on:{"update:visible":function(e){t.dialogAttend=e}}},[i("div",{staticClass:"content-box"},[i("div",{staticClass:"content_box"},[i("div",{staticClass:"search-box"},[i("el-date-picker",{attrs:{type:"month",placeholder:"选择日期"},model:{value:t.searchWords,callback:function(e){t.searchWords=e},expression:"searchWords"}}),i("el-button",{staticClass:"search-button",attrs:{type:"primary"},on:{click:t.attenquery}},[t._v("查询")])],1),i("div",{staticClass:"table-box"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.attendanceList,stripe:!0,"tooltip-effect":"dark",height:"400","highlight-current-row":!0}},[i("el-table-column",{attrs:{prop:"oneDay",label:"日期"}}),i("el-table-column",{attrs:{prop:"onlineTime",label:"上线时间"}}),i("el-table-column",{attrs:{prop:"offlineTime",label:"下线时间"}}),i("el-table-column",{attrs:{align:"center",width:"70",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.handleSee(e.$index,e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[10,30,50,100],total:t.attendanceTotal},on:{changePageSize:t.changePageSize,changeCurrentPage:t.changeCurrentPage}})],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeAttend}},[t._v("取 消")])],1)])],1)},ot=[],ct=i("ed08"),rt=Object(u["a"])("personManagement"),dt=rt.mapState,mt=rt.mapActions,vt={name:"Attendance",props:["dialogAttend","attendanceId"],components:{Page:n["a"]},data:function(){return{searchWords:"",currentPage:1,pageSize:10}},computed:Object(l["a"])({},dt(["attendanceList","attendanceTotal"])),methods:Object(l["a"])(Object(l["a"])({},mt(["GetByUserId"])),{},{attenquery:function(){var t=Object(ct["g"])(this.searchWords,"{y}-{m}"),e={oneDay:t,userId:this.ID,pageIndex:this.currentPage,maxResultCount:this.pageSize};this.GetByUserId(e)},closeAttend:function(){this.$emit("getAttendData")},changePageSize:function(t){console.log(t)},changeCurrentPage:function(t){console.log(t)},handleSee:function(){}})},ut=vt,pt=(i("8622"),Object(b["a"])(ut,nt,ot,!1,null,"77935dae",null)),gt=pt.exports,ht=i("6e6c"),Ct=Object(u["a"])("personManagement"),bt=Ct.mapState,ft=Ct.mapActions,_t={name:"TaskManagement",components:{Page:n["a"],"snt-search":o["a"],Working:lt,Attendance:gt,Message:ht["a"]},computed:Object(l["a"])({},bt(["personList","attendanceList","loading"])),data:function(){return{searchWords:"",multipleSelection:[],userName:"",currentPage:1,pageSize:30,total:0,month:"",dialogWorking:!1,dialogAttend:!1,dialogAttendID:0,dialogAttendTOT:0,messageText:"",dialogMessage:!1,pickerOptions:{shortcuts:[{text:"今日",onClick:function(t){var e=new Date;t.$emit("pick",{date:e,script:"今日"})}},{text:"清除",onClick:function(t){t.$emit("pick",{script:"清除"})}}]}}},mounted:function(){this.tableinfo()},methods:Object(l["a"])(Object(l["a"])({},ft(["GetByDay","GetByUserId","getDetails","setCheckedId","ExportMonthList"])),{},{tableinfo:function(t,e){var i={oneDay:t,userName:e,pageIndex:this.currentPage,maxResultCount:this.pageSize};console.log(i),this.GetByDay(i)},caozuo:function(){console.log("拿到了函数")},handechange:function(){var t=this;if(this.onlyOne()){var e;if(void 0!=this.month.script){if("今日"==this.month.script)e=Object(ct["g"])(this.month.date,"{y}-{m}-{d}");else if("清除"==this.month.script)return}else e=Object(ct["g"])(this.month,"{y}-{m}");console.log(this.month);var i={oneMonth:e,userId:this.multipleSelection[0].userId};this.ExportMonthList(i).catch((function(){t.dialogMessage=!0}))}},onlyOne:function(){return 0==this.multipleSelection.length?(console.log("请选择要操作数据"),this.messageText="请选择要操作数据",this.dialogMessage=!0,!1):!(this.multipleSelection.length>1)||(this.messageText="只能选择一行数据",this.dialogMessage=!0,console.log("只能选择一行数据"),!1)},closeMessage:function(t){this.dialogMessage=t},handleSelectionChange:function(t){this.multipleSelection=t},handlesubmit:function(t){this.userName=t,this.tableinfo("",t)},See:function(){var t=this;if(this.onlyOne()){this.setCheckedId(this.multipleSelection[0].userId);var e={id:this.multipleSelection[0].userId};this.getDetails(e).then((function(e){e.success&&(t.dialogWorking=!0)})).catch((function(){t.dialogMessage=!0}))}},handleSee:function(t){var e=this;this.setCheckedId(t.userId);var i={id:t.userId};this.getDetails(i).then((function(t){t.success&&(e.dialogWorking=!0)})).catch((function(){e.dialogMessage=!0}))},attenadanceSee:function(){},AttenadanceCheck:function(t){this.dialogAttendID=t.userId;var e={userId:t.userId,pageIndex:1,maxResultCount:10};this.GetByUserId(e),this.dialogAttend=!0},changePageSize:function(t){console.log(t)},changeCurrentPage:function(t){console.log(t)},getWorkingData:function(t){this.dialogWorking=t.dialogWorking},getAttendData:function(){this.dialogAttend=!1},exportData:function(){var t,e=["人员姓名","所属部门","联系方式","今日上线时间","今日离线时间"],i=["userName","orgName","mobile","onlineTime","offlineTime"],a="人员列表";t=0==this.multipleSelection.length?this.planList:this.multipleSelection,Object(ct["b"])(e,i,t,a)}})},kt=_t,wt=(i("5793"),Object(b["a"])(kt,a,s,!1,null,"0d3813c2",null));e["default"]=wt.exports},"63a5":function(t,e,i){"use strict";var a=i("a91a"),s=i.n(a);s.a},"63e6":function(t,e,i){"use strict";var a=i("46ff"),s=i.n(a);s.a},"83fd":function(t,e,i){"use strict";var a=i("3535"),s=i.n(a);s.a},8622:function(t,e,i){"use strict";var a=i("e3ed"),s=i.n(a);s.a},a91a:function(t,e,i){},b71d:function(t,e,i){},d322:function(t,e,i){"use strict";var a=i("12aa"),s=i.n(a);s.a},db61:function(t,e,i){},e3ed:function(t,e,i){},fc27:function(t,e,i){"use strict";var a=i("2f3b"),s=i.n(a);s.a}}]);
//# sourceMappingURL=chunk-7b2841ad.4a7845e3.js.map