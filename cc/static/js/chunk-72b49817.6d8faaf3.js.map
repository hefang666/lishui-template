{"version":3,"sources":["webpack:///./src/views/areaManagement/index.vue?931b","webpack:///./src/views/areaManagement/AreaMap.vue?f859","webpack:///src/views/areaManagement/AreaMap.vue","webpack:///./src/views/areaManagement/AreaMap.vue?1929","webpack:///./src/views/areaManagement/AreaMap.vue","webpack:///./src/views/areaManagement/AreaManage.vue?8d6d","webpack:///./src/views/areaManagement/Area.vue?9747","webpack:///src/views/areaManagement/Area.vue","webpack:///./src/views/areaManagement/Area.vue?2995","webpack:///./src/views/areaManagement/Area.vue","webpack:///./src/views/areaManagement/Layer.vue?13bb","webpack:///./src/views/areaManagement/LayerTree.vue?78b1","webpack:///src/views/areaManagement/LayerTree.vue","webpack:///./src/views/areaManagement/LayerTree.vue?0952","webpack:///./src/views/areaManagement/LayerTree.vue","webpack:///src/views/areaManagement/Layer.vue","webpack:///./src/views/areaManagement/Layer.vue?2030","webpack:///./src/views/areaManagement/Layer.vue","webpack:///src/views/areaManagement/AreaManage.vue","webpack:///./src/views/areaManagement/AreaManage.vue?9694","webpack:///./src/views/areaManagement/AreaManage.vue","webpack:///./src/views/areaManagement/areaInfo/index.vue?7957","webpack:///./src/views/areaManagement/areaInfo/DeviceTable.vue?fb19","webpack:///src/views/areaManagement/areaInfo/DeviceTable.vue","webpack:///./src/views/areaManagement/areaInfo/DeviceTable.vue?c048","webpack:///./src/views/areaManagement/areaInfo/DeviceTable.vue","webpack:///src/views/areaManagement/areaInfo/index.vue","webpack:///./src/views/areaManagement/areaInfo/index.vue?39b1","webpack:///./src/views/areaManagement/areaInfo/index.vue","webpack:///src/views/areaManagement/index.vue","webpack:///./src/views/areaManagement/index.vue?6498","webpack:///./src/views/areaManagement/index.vue","webpack:///./src/components/search/index.vue?a821","webpack:///src/components/search/index.vue","webpack:///./src/components/search/index.vue?8fa1","webpack:///./src/components/search/index.vue","webpack:///./src/views/areaManagement/LayerTree.vue?f0d8","webpack:///./src/views/areaManagement/LayerTree.vue?8def","webpack:///./src/views/areaManagement/AreaMap.vue?ab6d","webpack:///./src/views/areaManagement/index.vue?bb48","webpack:///./src/components/search/index.vue?650c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticRenderFns","attrs","on","selectByArea","_v","closeOverlay","_s","currentDeviceInfo","deviceName","devicePoint","address","component","loading","changeSearch","submitSearchWord","model","value","callback","$$v","activeName","expression","staticStyle","areaList","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","changeSwitchStatus","$index","row","switch","$set","updateCurrentInfo","id","areaListInfo","totalCount","changePageSize","changeTablePage","data","components","page","computed","mounted","getAreaListFunc","methods","selection","forEach","areaIdList","push","item","chooseAreaId","console","log","routeData","getAreaDetailInfo","lineLength","result","pipelineLength","areaPoint","selectLine","pipelineLists","selectPoint","deviceLists","map","showOrCloseRouteLayer","areaInfo","status","drawEditMapArea","area","_this","$parent","$refs","setName","name","setAreaObj","changePageCount","changeCurrentPage","pointList","showcheckbox","changePoint","lineList","changeLine","title","_e","treedata","keyname","expandClickStatus","checkClickStatus","nodeClick","checkChange","icon","startsWith","host","labelname","props","type","Array","default","String","Boolean","getCheckedList","tree","getCheckedKeys","$emit","nodeData","node","comp","checkedList","getPointAndLine","LayerTree","changeCheckedPoint","list","changeCheckedLine","Search","Area","Layer","then","changeSearchName","word","addArea","deleteLoading","deleteArea","directives","rawName","handleStatus","drawAreaFunc","resetDrawArea","ruleForm","rules","showDeviceList","length","toFixed","deleteDeviceFunc","showPointInfo","showLineInfo","submitLoading","saveArea","cancelUpdate","tabledata","showDeviceInfo","deleteFunc","Number","index","DeviceTable","changeStatus","changeHandleStatus","deleteDeviceSigle","$alert","confirmButtonText","changeAreaInfo","$message","message","deleteAreaFunc","form","resetFields","getAreaInfo","currentPoint","setMapOverLayInfo","currentList","resetArea","validate","pointCount","resp","duration","areaDetail","Map","AreaManage","AreaInfo","placeholder","changeWords","nativeOn","indexOf","_k","keyCode","submit","searchWords","domProps","text","isButton","module","exports"],"mappings":"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","file":"static/js/chunk-72b49817.6d8faaf3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area-panet\"},[_c('AreaManage'),_c('Map',{ref:\"map\"}),_c('AreaInfo',{ref:\"areaInfo\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mapbox\"},[_c('div',{staticClass:\"areamap\",attrs:{\"id\":\"areamap\"}}),_c('div',{staticClass:\"contextmenu\",attrs:{\"id\":\"contextmenu_container\"}},[_c('ul',{staticClass:\"contextmenu-lists\"},[_c('li',[_c('a',{attrs:{\"href\":\"#\",\"id\":\"popup-area-select\"},on:{\"click\":_vm.selectByArea}},[_vm._v(\"选择区域内设备\")])])])]),_c('div',{ref:\"popup\",staticClass:\"pop-boxer\"},[_c('a',{ref:\"closer\",staticClass:\"pop-closer\",on:{\"click\":_vm.closeOverlay}}),_c('div',{staticClass:\"pop-container\"},[_c('p',[_vm._v(\"设备名称：\"+_vm._s(_vm.currentDeviceInfo.deviceName))]),_c('p',[_vm._v(\"坐标:\"+_vm._s(_vm.currentDeviceInfo.devicePoint))]),_c('p',[_vm._v(\"地址:\"+_vm._s(_vm.currentDeviceInfo.address))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mapbox\">\r\n    <div id=\"areamap\" class=\"areamap\"></div>\r\n    <div id=\"contextmenu_container\" class=\"contextmenu\">\r\n      <ul class=\"contextmenu-lists\">\r\n        <li><a @click=\"selectByArea\" href=\"#\" id=\"popup-area-select\">选择区域内设备</a></li>\r\n      </ul>\r\n    </div>\r\n    <div ref=\"popup\" class=\"pop-boxer\">\r\n      <a ref=\"closer\" @click=\"closeOverlay\" class=\"pop-closer\">\r\n        <!-- <i class=\"el-icon-close\"></i> -->\r\n      </a>\r\n      <!-- <div v-if=\"featureType == 'point'\" class=\"pop-container\">\r\n        <p>设备名称：{{ currentFeature.values_.PointName }}</p>\r\n        <p>坐标:{{ currentFeature.values_.geometry.flatCoordinates[0] + ',' + currentFeature.values_.geometry.flatCoordinates[1] }}</p>\r\n        <p>地址:{{ currentFeature.values_.Location }}</p>\r\n      </div> -->\r\n      <div class=\"pop-container\">\r\n        <p>设备名称：{{ currentDeviceInfo.deviceName }}</p>\r\n        <p>坐标:{{ currentDeviceInfo.devicePoint }}</p>\r\n        <p>地址:{{ currentDeviceInfo.address }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    mapwms,\r\n    workSpace\r\n  } from '@/api/api';\r\n  import {\r\n    isStringEmpty\r\n  } from '@/utils';\r\n  import {\r\n    createNamespacedHelpers\r\n  } from 'vuex';\r\n  const {\r\n    mapState\r\n  } = createNamespacedHelpers('area');\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 管点图层\r\n        pointLayer: {},\r\n        // 管线图层\r\n        lineLayer: {},\r\n        zoomMap: 15,\r\n        // 显示区域的图层\r\n        drawAreaSource: {},\r\n        drawAreaStyle: {},\r\n        // 地图弹出设备管点管线弹出\r\n        overlay: {},\r\n        // 画区域的图层\r\n        drawMapAreaSource: {},\r\n        drawMapAreaLayer: {},\r\n        // 存储画出来区域中的信息\r\n        areaObj: {},\r\n        // 选择绘制区域内设备的按钮弹出层\r\n        menuOverlay: {},\r\n        // 选中区域、管线、管点图层\r\n        featureSelect: {},\r\n        // 当前弹出设备信息\r\n        currentDeviceInfo: {},\r\n\r\n        pointInArea: [],\r\n        lineInArea: [],\r\n\r\n        // 选中的管点、管线图层\r\n        selectPointSource: {},\r\n        selectPointLayer: {},\r\n        selectLineSource: {},\r\n        selectLineLayer: {},\r\n\r\n        // 查看显示片区管点管线图层\r\n        checkPointSource: {},\r\n        checkPointLayer: {},\r\n        checkLineSource: {},\r\n        checkLineLayer: {}\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['areaList', 'checkedPoint', 'checkedLine', 'areaInfo'])\r\n    },\r\n    mounted() {\r\n      this.initMap();\r\n    },\r\n    methods: {\r\n      // 初始化地图\r\n      initMap() {\r\n        var SNTGIS = window.SNTGIS;\r\n        var pointLayer = new SNTGIS.layer.TileWMS({\r\n          url: mapwms,\r\n          layers: 'OpenGIS:GisPoint',\r\n          layerName: '管点图'\r\n        });\r\n        this.pointLayer = pointLayer;\r\n        pointLayer.setMaxResolution(0.0000107288);\r\n        var lineLayer = new SNTGIS.layer.TileWMS({\r\n          url: mapwms,\r\n          layers: 'OpenGIS:GisLine',\r\n          layerName: '管线图'\r\n        });\r\n        this.lineLayer = lineLayer;\r\n        const tdMap = new SNTGIS.layer.TDMap({\r\n          token: '7ab767e38fe3d9c04f144a091cff214f',\r\n          type: 1,\r\n          layerName: '天地图电子底图'\r\n        });\r\n        const dmLayer = new SNTGIS.layer.TDMap({\r\n          token: '7ab767e38fe3d9c04f144a091cff214f',\r\n          type: 4,\r\n          layerName: '天地图电子底图'\r\n        });\r\n        const zoomMap = this.zoomMap;\r\n        this.map = new SNTGIS.Map({\r\n          layers: [tdMap, dmLayer, pointLayer, lineLayer],\r\n          center: [104.1526230224237, 30.01244851052735],\r\n          zoom: zoomMap,\r\n          maxZoom: 18,\r\n          minZoom: 5,\r\n          target: 'areamap'\r\n        });\r\n        this.$nextTick(() => {\r\n          this.drawAreaLayerFunc();\r\n          this.initDrawMap();\r\n          this.featureSelectComp();\r\n          this.initMenuOverLay();\r\n          this.initMapOverlay();\r\n          this.initSelectPointLayer();\r\n          this.initSelelctLineLayer();\r\n          this.initCheckPointLayer();\r\n          this.initCheckLineLayer();\r\n        });\r\n      },\r\n      \r\n      // 初始化绘制区域图层\r\n      initDrawMap() {\r\n        let _this = this;\r\n        let SNTGIS = window.ol;\r\n        let drawMapAreaSource = new SNTGIS.source.Vector({});\r\n        this.drawMapAreaSource = drawMapAreaSource;\r\n        // 区域图层\r\n        let drawMapAreaLayer = new SNTGIS.layer.Vector({\r\n          source: drawMapAreaSource,\r\n          updateWhileInteracting: true,\r\n          style: _this.drawAreaStyle\r\n        });\r\n        this.drawMapAreaLayer = drawMapAreaLayer;\r\n        this.map.addLayer(drawMapAreaLayer);\r\n      },\r\n      \r\n      // 初始化区域图层\r\n      drawAreaLayerFunc() {\r\n        let SNTGIS = window.ol;\r\n        // 区域样式\r\n        let drawAreaStyle = new SNTGIS.style.Style({\r\n          fill: new SNTGIS.style.Fill({\r\n            color: 'rgba(75, 119, 190, 0.5)'\r\n          }),\r\n          stroke: new SNTGIS.style.Stroke({\r\n            color: 'rgba(255, 255, 255, 0.5)',\r\n            width: 2\r\n          }),\r\n          image: new SNTGIS.style.Circle({\r\n            radius: 7,\r\n            fill: new SNTGIS.style.Fill({\r\n              color: 'rgba(75, 119, 190, 0.5)'\r\n            })\r\n          })\r\n        });\r\n        this.drawAreaStyle = drawAreaStyle;\r\n        let drawAreaSource = new SNTGIS.source.Vector({});\r\n        this.drawAreaSource = drawAreaSource;\r\n        // 区域图层\r\n        let drawAreaLayer = new SNTGIS.layer.Vector({\r\n          source: drawAreaSource,\r\n          updateWhileInteracting: true,\r\n          style: drawAreaStyle\r\n        });\r\n        this.drawAreaLayer = drawAreaLayer\r\n        this.map.addLayer(drawAreaLayer);\r\n      },\r\n\r\n      // 初始化选中设备区域的按钮图层\r\n      initMenuOverLay() {\r\n        let _this = this;\r\n        let menuOverlay = new window.ol.Overlay({\r\n          element: document.querySelector(\"#contextmenu_container\"),\r\n          positioning: 'center-center'\r\n        })\r\n        this.menuOverlay = menuOverlay;\r\n        this.map.addOverlay(menuOverlay)\r\n\r\n        // 按钮图层出现的事件\r\n        this.map.getViewport().addEventListener('contextmenu', function (event) {\r\n          if (_this.drawMapAreaSource.getFeatures().length > 0) {\r\n            event.preventDefault();\r\n            let coordinate = _this.map.getEventCoordinate(event);\r\n            menuOverlay.setPosition(coordinate);\r\n          }\r\n        })\r\n      },\r\n\r\n      // 初始化地图管点及管线设备信息的图层\r\n      initMapOverlay() {\r\n        let container = this.$refs.popup;\r\n        let overlay = new window.ol.Overlay({\r\n          element: container,\r\n          autoPan: true,\r\n          autoPanAnimation: {\r\n            duration: 250\r\n          },\r\n          positioning: 'center-center'\r\n        });\r\n        this.overlay = overlay;\r\n        this.map.addOverlay(overlay);\r\n      },\r\n\r\n      // 初始化选中管点图层\r\n      initSelectPointLayer() {\r\n        let selectPointStyle = new window.ol.style.Style({\r\n          fill: new window.ol.style.Fill({\r\n            color: 'rgba(196, 211, 231, 0.5)'\r\n          }),\r\n          stroke: new window.ol.style.Stroke({\r\n            color: 'rgba(252, 7, 7, 1)',\r\n            width: 3\r\n          })\r\n        })\r\n        let selectPointSource = new window.ol.source.Vector({});\r\n        this.selectPointSource = selectPointSource;\r\n        var selectPointLayer = new window.ol.layer.Vector({\r\n          source: selectPointSource,\r\n          updateWhileInteracting: true,\r\n          style: selectPointStyle\r\n        });\r\n        this.selectPointLayer = selectPointLayer;\r\n        this.map.addLayer(selectPointLayer);\r\n      },\r\n\r\n      // 初始化选中管线图层\r\n      initSelelctLineLayer() {\r\n        let selectLineStyle = new window.ol.style.Style({\r\n          fill: new window.ol.style.Fill({\r\n            color: 'rgba(252, 7, 7, 0.5)'\r\n          }),\r\n          stroke: new window.ol.style.Stroke({\r\n            color: 'rgba(48, 99, 181, 0.5)',\r\n            width: 4\r\n          }),\r\n        })\r\n        let selectLineSource = new window.ol.source.Vector({});\r\n        this.selectLineSource = selectLineSource;\r\n\r\n        var selectLineLayer = new window.ol.layer.Vector({\r\n          source: selectLineSource,\r\n          updateWhileInteracting: true,\r\n          style: selectLineStyle\r\n        });\r\n        this.selectLineLayer = selectLineLayer;\r\n        this.map.addLayer(selectLineLayer);\r\n      },\r\n\r\n      // 初始化查看显示片区管点管线图层\r\n      initCheckPointLayer() {\r\n        let checkPointStyle = new window.ol.style.Style({\r\n          fill: new window.ol.style.Fill({\r\n            color: 'rgba(196, 211, 231, 0.5)'\r\n          }),\r\n          stroke: new window.ol.style.Stroke({\r\n            color: 'rgba(252, 7, 7, 1)',\r\n            width: 3\r\n          })\r\n        })\r\n        let checkPointSource = new window.ol.source.Vector({});\r\n        this.checkPointSource = checkPointSource;\r\n        var checkPointLayer = new window.ol.layer.Vector({\r\n          source: checkPointSource,\r\n          updateWhileInteracting: true,\r\n          style: checkPointStyle\r\n        });\r\n        this.checkPointLayer = checkPointLayer;\r\n        this.map.addLayer(checkPointLayer);\r\n      },\r\n\r\n      initCheckLineLayer() {\r\n        let checkLineStyle = new window.ol.style.Style({\r\n          fill: new window.ol.style.Fill({\r\n            color: 'rgba(252, 7, 7, 0.5)'\r\n          }),\r\n          stroke: new window.ol.style.Stroke({\r\n            color: 'rgba(48, 99, 181, 0.5)',\r\n            width: 4\r\n          }),\r\n        })\r\n        let checkLineSource = new window.ol.source.Vector({});\r\n        this.checkLineSource = checkLineSource;\r\n\r\n        var checkLineLayer = new window.ol.layer.Vector({\r\n          source: checkLineSource,\r\n          updateWhileInteracting: true,\r\n          style: checkLineStyle\r\n        });\r\n        this.checkLineLayer = checkLineLayer;\r\n        this.map.addLayer(checkLineLayer);\r\n      },\r\n\r\n      // 显示地图上管点管线的设备信息\r\n      setMapOverLayInfo(deviceInfo) {\r\n        this.currentDeviceInfo = deviceInfo;\r\n        this.overlay.setPosition(deviceInfo.devicePoint.split(','));\r\n      },\r\n\r\n      // 地图选择控件\r\n      featureSelectComp() {\r\n        // 地图选择控件\r\n        var featureSelect = new window.ol.interaction.Select({\r\n          multi: true,\r\n          hitTolerance: 5\r\n        });\r\n        this.featureSelect = featureSelect;\r\n        // 添加选择控件\r\n        this.map.addInteraction(featureSelect);\r\n      },\r\n\r\n      // 根据选中的列表展示图层或者关闭图层\r\n      showOrCloseRouteLayer(routeData, isShow) {\r\n        if (isShow) {\r\n          this.showRouteLayer(routeData, 1);\r\n        } else {\r\n          this.closeRouteLayer(routeData);\r\n        }\r\n      },\r\n\r\n      // 显示相应列的图层\r\n      showRouteLayer(routeData, status) {\r\n        if (!isStringEmpty(routeData.areaPoint)) {\r\n          let routeAreaPointsArr = routeData.areaPoint.split(';');\r\n          let pointsArray = new Array();\r\n          let xArray = new Array();\r\n          let yArray = new Array();\r\n          for (let i = 0; i < routeAreaPointsArr.length - 1; i++) {\r\n            let element = routeAreaPointsArr[i];\r\n            let routeAreaPointArr = element.split(',');\r\n            xArray.push(routeAreaPointArr[0]);\r\n            yArray.push(routeAreaPointArr[1]);\r\n            pointsArray.push(routeAreaPointArr);\r\n          }\r\n          var areaFeatyre = new window.ol.Feature({\r\n            geometry: new window.ol.geom.Polygon([pointsArray])\r\n          });\r\n          if (status === 1) {\r\n            this.drawAreaSource.addFeature(areaFeatyre);\r\n          } else {\r\n            this.drawMapAreaSource.addFeature(areaFeatyre);\r\n          }\r\n\r\n          // 完成区域绘制之后将地图的中心点适配到区域范围\r\n          var xmax = Math.max.apply(null, xArray);\r\n          var xmin = Math.min.apply(null, xArray);\r\n          var ymax = Math.max.apply(null, yArray);\r\n          var ymin = Math.min.apply(null, yArray);\r\n          this.map.getView().fit([xmin, ymin, xmax, ymax]);\r\n\r\n          // 选中管点管线\r\n          // this.getCommonEle(routeData, 2)\r\n        }\r\n      },\r\n\r\n      // 关闭相应列的区域\r\n      closeRouteLayer(routeData) {\r\n        let routeArea = routeData.areaPoint\r\n        if (!isStringEmpty(routeArea)) {\r\n          let routeAreaPointsArr = routeArea.split(';');\r\n          let pointsArray = new Array();\r\n          for (let i = 0; i < routeAreaPointsArr.length - 1; i++) {\r\n            let element = routeAreaPointsArr[i];\r\n            let routeAreaPointArr = element.split(',');\r\n            pointsArray.push(routeAreaPointArr);\r\n          }\r\n          let areaFeatyre = new window.ol.Feature({\r\n            geometry: new window.ol.geom.Polygon([pointsArray])\r\n          });\r\n          //drawAreaSoure1.removeFeature(areaFeatyre);\r\n          this.delFeatureFromSource(this.drawAreaSource, areaFeatyre);\r\n          this.checkPointLayer.getSource().clear();\r\n          this.checkLineLayer.getSource().clear();\r\n        }\r\n      },\r\n      \r\n      // 删除区域  source 删除的图层   feature: 删除的区域\r\n      delFeatureFromSource(source, feature) {\r\n        var sourceArray = source.getFeatures();\r\n        for (let index = 0; index < sourceArray.length; index++) {\r\n          let element = sourceArray[index];\r\n          if (JSON.stringify(feature.values_.geometry.flatCoordinates) == JSON.stringify(element.values_.geometry\r\n              .flatCoordinates)) {\r\n            source.removeFeature(element);\r\n            return;\r\n          }\r\n        }\r\n      },\r\n      \r\n      // 画区域实现调用的方式\r\n      drawAreaFunc() {\r\n        let _this = this;\r\n        let drawMapAreaSource = new window.ol.source.Vector({\r\n          wrapX: false\r\n        });\r\n        this.drawMapAreaSource = drawMapAreaSource;\r\n        this.drawMapAreaLayer.setSource(drawMapAreaSource);\r\n        this.clearMapLayer();\r\n\r\n        // 开始画区域\r\n        let drawArea = new window.ol.interaction.Draw({\r\n          source: drawMapAreaSource,\r\n          type: 'Polygon'\r\n        });\r\n\r\n        this.map.addInteraction(drawArea);\r\n\r\n        drawArea.on('drawend', function (evt) {\r\n          if (_this.checkedLine.length <= 0 && _this.checkedPoint.length <= 0) {\r\n            _this.$message({\r\n              type: 'error',\r\n              message: '未选中任何管道或者设备图层！',\r\n              duration: 2000\r\n            })\r\n            _this.resetDrawArea();\r\n            return false;\r\n          }\r\n          let areaObj = _this.areaObj;\r\n          areaObj.area = '';\r\n\r\n          // 将画出来区域的顶点连接成用;连接的字符串\r\n          let flats = evt.feature.values_.geometry.flatCoordinates;\r\n          for (let i = 0; i < flats.length; i = i + 2) {\r\n            areaObj.area += flats[i] + \",\";\r\n            areaObj.area += flats[i + 1] + \";\";\r\n          }\r\n          _this.map.removeInteraction(drawArea);\r\n          _this.getCommonEle({areaPoint: areaObj.area});\r\n\r\n        });\r\n      },\r\n\r\n      // 根据区域得出与区域相交的元素\r\n      getCommonEle(deviceInfo, type) {\r\n        let _this = this;\r\n        // 获取选中的图层边界点\r\n        let areaExtent = deviceInfo.areaPoint.split(';').join(' ');\r\n        areaExtent = areaExtent.substring(0, areaExtent.length - 1)\r\n        window.SNTGIS.workSpace = workSpace;\r\n\r\n        // 获取区域与管线图层相交的所有元素\r\n        window.SNTGIS.NetWork.getFeaturesByCoords(_this.lineLayer, areaExtent, function (data) {\r\n          // _this.getSelectLineList(data)\r\n          _this.lineInArea = data;\r\n          if (type) {\r\n            // console.log(deviceInfo.selectLine)\r\n            // _this.drawLineSelect(deviceInfo.selectLine)\r\n            _this.getLineListInArea(data, deviceInfo.selectLine, type);\r\n\r\n          }\r\n        })\r\n        // 获取区域与管点图层相交的所有元素\r\n        window.SNTGIS.NetWork.getFeaturesByCoords(_this.pointLayer, areaExtent, function (data) {\r\n          _this.pointInArea = data;\r\n          // _this.getSelectPointList(data)\r\n          if (type) {\r\n            // _this.drawPointSelect(deviceInfo.selectPoint)\r\n            _this.getPointListInArea(data, deviceInfo.selectPoint, type);\r\n          }\r\n        })\r\n      },\r\n\r\n      // 根据传入的区域范围绘制区域并获取橡胶的管点管线\r\n      drawEditMapArea(routeData) {\r\n        this.resetDrawArea();\r\n        this.showRouteLayer(routeData, 2);\r\n        this.getCommonEle(routeData, 1);\r\n      },\r\n\r\n      // 获取地图中所有的GIS图层\r\n      getMapShowGisLayers() {\r\n        let layerList = this.map.getLayers().getArray();\r\n        let layerArray = new Array();\r\n        for (let i = 0; i < layerList.length; i++) {\r\n          if (layerList[i].values_.title) {\r\n            layerArray.push(layerList[i]);\r\n          }\r\n        }\r\n        return layerArray;\r\n      },\r\n\r\n      // 选中绘制区域内的管点管线\r\n      selectByArea() {\r\n        let _this = this;\r\n        if (_this.checkedLine.length <= 0 && _this.checkedPoint.length <= 0) {\r\n          _this.$message({\r\n            type: 'error',\r\n            message: '未选中任何管道或者设备图层！',\r\n            duration: 2000\r\n          })\r\n          _this.resetDrawArea();\r\n          this.menuOverlay.setPosition('');\r\n          return false;\r\n        }\r\n        if (_this.drawMapAreaSource.getFeatures().length > 0) {\r\n          if (this.checkedLine.length < 0 && this.checkedPoint.length < 0) {\r\n            this.$message.error('请选择管点或者管线');\r\n            return false;\r\n          }\r\n          this.menuOverlay.setPosition('');\r\n          _this.getSelectLineList(_this.lineInArea, _this.checkedLine);\r\n          _this.getSelectPointList(_this.pointInArea, _this.checkedPoint);\r\n        }\r\n      },\r\n      \r\n      // 根据数据返回的管线 判断是否在传入的区域内 并绘制在区域内的管线\r\n      getLineListInArea(allLineList, checkedLine, type) {\r\n        var lineList = [], lineLength = 0;\r\n        for(let i = 0; i < checkedLine.length; i++) {\r\n          for(let j = 0; j < allLineList.length; j++) {\r\n            if(checkedLine[i].deviceCode ==allLineList[j].properties.LineNumber) {\r\n              let x = (allLineList[j].geometry.coordinates[0][0] + allLineList[j].geometry.coordinates[1][0]) / 2;\r\n              let y = (allLineList[j].geometry.coordinates[0][1] + allLineList[j].geometry.coordinates[1][1]) / 2;\r\n              lineLength += allLineList[i].properties.LineLength;\r\n              lineList.push({\r\n                deviceCode: allLineList[j].properties.LineNumber,\r\n                deviceName: allLineList[j].properties.Material,\r\n                devicePoint: x + ',' + y,\r\n                address: allLineList[j].properties.Location,\r\n                deviceLoaction: allLineList[j].geometry.coordinates,\r\n                lineLength: allLineList[j].properties.LineLength\r\n              });\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if(type == 1) {\r\n          this.areaObj.lineLength = lineLength;\r\n          this.areaObj.lineList = lineList;\r\n          this.drawLineSelect(lineList);\r\n        }else if(type == 2) {\r\n          this.drawLineCheckFunc(lineList);\r\n        }\r\n      },\r\n      \r\n      // 根据数据返回的管点 判断是否在传入的区域内 并绘制在区域内的管点\r\n      getPointListInArea(allPointList, checkedPoint, type) {\r\n        var pointList = [];\r\n        for(let i = 0; i < checkedPoint.length; i++) {\r\n          for(let j = 0; j < allPointList.length; j++) {\r\n            if(checkedPoint[i].deviceCode ==allPointList[j].properties.PointNumbe) {\r\n              pointList.push({\r\n                deviceCode: allPointList[j].properties.PointNumbe,\r\n                deviceName: allPointList[j].properties.PointName,\r\n                devicePoint: allPointList[j].geometry.coordinates.join(','),\r\n                address: allPointList[j].properties.Location,\r\n                deviceLoaction: allPointList[j].geometry.coordinates\r\n              });\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if(type == 1) {\r\n          this.areaObj.selectPoint = pointList;\r\n          this.drawPointSelect(pointList);\r\n        } else if(type == 2) {\r\n          this.drawPointCheckFunc(pointList);\r\n        }\r\n      },\r\n\r\n      // 获取选中区域内所有的管线列表信息\r\n      getSelectLineList(allLineList, checkedLine) {\r\n        let selectLine = [];\r\n        let lineLength = 0;\r\n        for (let i = 0; i < allLineList.length; i++) {\r\n          for (let j = 0; j < checkedLine.length; j++) {\r\n            if (allLineList[i].properties.Material == checkedLine[j].label) {\r\n              let x = (allLineList[i].geometry.coordinates[0][0] + allLineList[i].geometry.coordinates[1][0]) / 2;\r\n              let y = (allLineList[i].geometry.coordinates[0][1] + allLineList[i].geometry.coordinates[1][1]) / 2;\r\n              lineLength += allLineList[i].properties.LineLength;\r\n              selectLine.push({\r\n                deviceCode: allLineList[i].properties.LineNumber,\r\n                deviceName: allLineList[i].properties.Material,\r\n                devicePoint: x + ',' + y,\r\n                address: allLineList[i].properties.Location,\r\n                deviceLoaction: allLineList[i].geometry.coordinates,\r\n                lineLength: allLineList[i].properties.LineLength\r\n              });\r\n            }\r\n          }\r\n        }\r\n        this.areaObj.lineLength = lineLength;\r\n        this.areaObj.selectLine = selectLine;\r\n        this.drawLineSelect(selectLine)\r\n      },\r\n\r\n      // 获取选中区域内所有的管点列表信息\r\n      getSelectPointList(allPointList, checkedPoint) {\r\n        let selectPoint = [];\r\n        for (let i = 0; i < allPointList.length; i++) {\r\n          for (let j = 0; j < checkedPoint.length; j++) {\r\n            if (allPointList[i].properties.PointName == checkedPoint[j].label) {\r\n              selectPoint.push({\r\n                deviceCode: allPointList[i].properties.PointNumbe,\r\n                deviceName: allPointList[i].properties.PointName,\r\n                devicePoint: allPointList[i].geometry.coordinates.join(','),\r\n                address: allPointList[i].properties.Location,\r\n                deviceLoaction: allPointList[i].geometry.coordinates\r\n              });\r\n            }\r\n          }\r\n        }\r\n        this.areaObj.selectPoint = selectPoint;\r\n        this.drawPointSelect(selectPoint)\r\n      },\r\n\r\n      // 选中管线\r\n      drawLineSelect(selectLineList) {\r\n        for(let i = 0; i< selectLineList.length; i++) {\r\n          let lineFeatype = new window.ol.Feature({\r\n            geometry: new window.ol.geom.Polygon([selectLineList[i].deviceLoaction])\r\n          })\r\n          this.selectLineSource.addFeature(lineFeatype);\r\n        }\r\n      },\r\n\r\n      // 选中管点\r\n      drawPointSelect(selectPointList) {\r\n        for(let i = 0; i< selectPointList.length; i++) {\r\n          let pointFeatype = new window.ol.Feature({\r\n            geometry: new window.ol.geom.Circle(selectPointList[i].deviceLoaction, 0.00005)\r\n          })\r\n          this.selectPointSource.addFeature(pointFeatype);\r\n        }\r\n      },\r\n\r\n      // 查看片区选择管点管线\r\n      drawPointCheckFunc(pointList) {\r\n        for(let i = 0; i< pointList.length; i++) {\r\n          let pointFeatype = new window.ol.Feature({\r\n            geometry: new window.ol.geom.Circle(pointList[i].deviceLoaction, 0.00005)\r\n          })\r\n          this.checkPointSource.addFeature(pointFeatype);\r\n        }\r\n      },\r\n\r\n      drawLineCheckFunc(lineList) {\r\n        for(let i = 0; i< lineList.length; i++) {\r\n          let lineFeatype = new window.ol.Feature({\r\n            geometry: new window.ol.geom.Polygon([lineList[i].deviceLoaction])\r\n          })\r\n          this.checkLineSource.addFeature(lineFeatype);\r\n        }\r\n      },\r\n\r\n      // 设置区域信息\r\n      setAreaObj(areaObj) {\r\n        this.areaObj = areaObj;\r\n      },\r\n\r\n      // 获取区域信息\r\n      getAreaInfo() {\r\n        return this.areaObj\r\n      },\r\n\r\n      // 关闭设备管点的弹出提示\r\n      closeOverlay() {\r\n        this.overlay.setPosition(undefined);\r\n        this.$refs.closer.blur();\r\n        return false;\r\n      },\r\n\r\n      // 关闭管点管线图层\r\n      clearMapLayer() {\r\n        this.selectPointLayer.getSource().clear();\r\n        this.selectLineLayer.getSource().clear();\r\n      },\r\n\r\n      // 重置区域图层\r\n      resetDrawArea() {\r\n        let _this = this;\r\n        // 清空要素选择\r\n        try {\r\n          _this.featureSelect.getFeatures().clear();\r\n        } catch (error) {\r\n          _this.featureSelect.getFeatures().clear();\r\n        }\r\n        this.areaObj = {}\r\n        // _this.areaObj.selectedLinesArray = [];\r\n        // _this.areaObj.selectedPointsArray = [];\r\n\r\n        // 清空面区域\r\n        _this.drawMapAreaSource = new window.ol.source.Vector({});\r\n        _this.drawMapAreaLayer.setSource(_this.drawMapAreaSource);\r\n        _this.clearMapLayer();\r\n        _this.closeOverlay();\r\n      }\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .mapbox {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n\r\n    .areamap {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AreaMap.vue?vue&type=template&id=5a3a4921&\"\nimport script from \"./AreaMap.vue?vue&type=script&lang=js&\"\nexport * from \"./AreaMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AreaMap.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area-manage area-list-namage\"},[_c('Search',{attrs:{\"loading\":_vm.loading,\"icon\":\"\",\"placeholder\":\"请输入片区名称\"},on:{\"changeSearch\":_vm.changeSearch,\"submit\":_vm.submitSearchWord}}),_c('div',{staticClass:\"area-tabs\"},[_c('el-tabs',{staticClass:\"snt-card-tabs\",attrs:{\"type\":\"card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"片区管理\",\"name\":\"area\"}},[_c('Area')],1),_c('el-tab-pane',{staticClass:\"layer-pane\",attrs:{\"label\":\"图层管理\",\"name\":\"layer\"}},[_c('Layer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area-lists-box\"},[_c('div',{staticClass:\"table-box area-content-box\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"data\":_vm.areaList,\"stripe\":true,\"tooltip-effect\":\"dark\",\"height\":\"100%\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"width\":\"35\",\"type\":\"selection\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"片区名称\",\"width\":\"80\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"pipelineLength\",\"label\":\"管道长度\",\"width\":\"65\"}}),_c('el-table-column',{attrs:{\"prop\":\"pointCount\",\"label\":\"设备点数\",\"width\":\"65\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"width\":\"58\",\"label\":\"显示\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.changeSwitchStatus(scope.$index, scope.row.switch)}},model:{value:(scope.row.switch),callback:function ($$v) {_vm.$set(scope.row, \"switch\", $$v)},expression:\"scope.row.switch\"}})]}}])}),_c('el-table-column',{attrs:{\"label-class-name\":\"handle\",\"width\":\"50\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticClass:\"text-primary\",on:{\"click\":function($event){return _vm.updateCurrentInfo(scope.row.id)}}},[_vm._v(\"修改\")])]}}])})],1)],1),_c('div',{staticClass:\"page-box\"},[_c('page',{attrs:{\"page-data\":[30, 40, 50, 100],\"total\":_vm.areaListInfo.totalCount,\"layout\":\"sizes,pager,jump\"},on:{\"changePageSize\":_vm.changePageSize,\"changeCurrentPage\":_vm.changeTablePage}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"area-lists-box\">\r\n    <div class=\"table-box area-content-box\">\r\n      <el-table\r\n        size=\"mini\"\r\n        ref=\"multipleTable\"\r\n        :data=\"areaList\"\r\n        :stripe=\"true\"\r\n        tooltip-effect=\"dark\"\r\n        height=\"100%\"\r\n        style=\"width: 100%\"\r\n        @selection-change=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column width=\"35\" type=\"selection\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"name\"\r\n          label=\"片区名称\"\r\n          width=\"80\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"pipelineLength\"\r\n          label=\"管道长度\"\r\n          width=\"65\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"pointCount\"\r\n          label=\"设备点数\"\r\n          width=\"65\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column width=\"58\" label=\"显示\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch @change=\"changeSwitchStatus(scope.$index, scope.row.switch)\" v-model=\"scope.row.switch\">\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label-class-name=\"handle\" width=\"50\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <a @click=\"updateCurrentInfo(scope.row.id)\" class=\"text-primary\">修改</a>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"page-box\">\r\n      <page\r\n        :page-data=\"[30, 40, 50, 100]\"\r\n        :total=\"areaListInfo.totalCount\"\r\n        layout=\"sizes,pager,jump\"\r\n        @changePageSize=\"changePageSize\"\r\n        @changeCurrentPage=\"changeTablePage\"\r\n      ></page>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport page from '@/components/page/Page.vue';\r\nimport {createNamespacedHelpers} from 'vuex';\r\nconst {mapState, mapActions} = createNamespacedHelpers('area');\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    page\r\n  },\r\n  computed: {\r\n    ...mapState(['areaList', 'areaListInfo'])\r\n  },\r\n  mounted() {\r\n    // let areaListInfo = this.areaListInfo;\r\n    this.getAreaListFunc();\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'getAreaListFunc',\r\n      'changeHandleStatus',\r\n      'getAreaDetailInfo',\r\n      'changeAreaInfo',\r\n      'chooseAreaId',\r\n      'changePageCount',\r\n      'changeCurrentPage'\r\n    ]),\r\n    handleSelectionChange(selection) {\r\n      let areaIdList = [];\r\n      selection.forEach(item => {\r\n        areaIdList.push(item.id)\r\n      });\r\n      this.chooseAreaId(areaIdList);\r\n    },\r\n    // 显示或者关闭图层\r\n    changeSwitchStatus(index, status) {\r\n      let _this = this;\r\n      let routeData = this.areaList[index];\r\n      console.log(routeData)\r\n      let map = this.$parent.$parent.$parent.$parent.$refs.map;\r\n      if(status) {\r\n        this.getAreaDetailInfo({\r\n          id: routeData.id\r\n        }).then(response => {\r\n          let result = response.result;\r\n          // 显示地图中的片区\r\n          let map = _this.$parent.$parent.$parent.$parent.$refs.map;\r\n          // map.showOrCloseRouteLayer(result, true);\r\n          let areaInfo = {\r\n            lineLength: result.pipelineLength,\r\n            areaPoint: result.areaPoint,\r\n            selectLine: result.pipelineLists,\r\n            selectPoint: result.deviceLists,\r\n            id: result.id\r\n          }\r\n          map.showOrCloseRouteLayer(areaInfo, status);\r\n        })\r\n      } else {\r\n        map.showOrCloseRouteLayer(routeData, status);\r\n      }\r\n    },\r\n\r\n    // 点击修改按钮修改当前的\r\n    updateCurrentInfo(id) {\r\n      let _this = this;\r\n      this.getAreaDetailInfo({\r\n        id\r\n      }).then(response => {\r\n        let result = response.result;\r\n        // 显示更改片区的信息区域\r\n        this.changeHandleStatus(2);\r\n        // 显示地图中的片区\r\n        let map = _this.$parent.$parent.$parent.$parent.$refs.map;\r\n        // map.showOrCloseRouteLayer(result, true);\r\n        map.drawEditMapArea({\r\n          areaPoint: result.areaPoint,\r\n          selectLine: result.pipelineLists,\r\n          selectPoint: result.deviceLists,\r\n        });\r\n        let areaInfo = {\r\n          lineLength: result.pipelineLength,\r\n          area: result.areaPoint,\r\n          selectLine: result.pipelineLists,\r\n          selectPoint: result.deviceLists,\r\n          id: result.id\r\n        }\r\n        _this.$parent.$parent.$parent.$parent.$refs.areaInfo.setName(result.name);\r\n        this.changeAreaInfo(areaInfo);\r\n        map.setAreaObj(areaInfo);\r\n      })\r\n    },\r\n\r\n    changePageSize(data) {\r\n      this.changePageCount(data);\r\n      this.getAreaListFunc();\r\n    },\r\n\r\n    changeTablePage(data) {\r\n      this.changeCurrentPage(data);\r\n      this.getAreaListFunc();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Area.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Area.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Area.vue?vue&type=template&id=9c8dc50c&\"\nimport script from \"./Area.vue?vue&type=script&lang=js&\"\nexport * from \"./Area.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('LayerTree',{staticClass:\"area-tree\",attrs:{\"treedata\":_vm.pointList,\"showcheckbox\":_vm.showcheckbox,\"title\":\"管点图层\"},on:{\"checkedChange\":_vm.changePoint}}),_c('LayerTree',{staticClass:\"area-tree\",attrs:{\"treedata\":_vm.lineList,\"showcheckbox\":_vm.showcheckbox,\"title\":\"管线图层\"},on:{\"checkedChange\":_vm.changeLine}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.title)?_c('div',{staticClass:\"tree-title\"},[_vm._v(_vm._s(_vm.title))]):_vm._e(),_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treedata,\"show-checkbox\":_vm.showcheckbox,\"node-key\":_vm.keyname,\"highlight-current\":\"\",\"expand-on-click-node\":_vm.expandClickStatus,\"check-on-click-node\":_vm.checkClickStatus},on:{\"node-click\":_vm.nodeClick,\"check-change\":_vm.checkChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _c('span',{},[(data.icon && data.icon.startsWith('el-icon'))?_c('span',{staticClass:\"el-icon-delete-solid\"}):(data.icon)?_c('span',{staticClass:\"tree-icon-img\"},[_c('img',{attrs:{\"src\":_vm.host + data.icon}})]):_vm._e(),_c('span',[_vm._v(_vm._s(data[_vm.labelname]))])])}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"title\" class=\"tree-title\">{{ title }}</div>\r\n    <el-tree\r\n      :data=\"treedata\"\r\n      :show-checkbox=\"showcheckbox\"\r\n      :node-key=\"keyname\"\r\n      ref=\"tree\"\r\n      highlight-current\r\n      :expand-on-click-node=\"expandClickStatus\"\r\n      :check-on-click-node=\"checkClickStatus\"\r\n      @node-click=\"nodeClick\"\r\n      @check-change=\"checkChange\"\r\n    >\r\n      <span slot-scope=\"{data}\">\r\n        <span v-if=\"data.icon && data.icon.startsWith('el-icon')\" class=\"el-icon-delete-solid\"></span>\r\n        <span v-else-if=\"data.icon\" class=\"tree-icon-img\">\r\n          <img :src=\"host + data.icon\"/>\r\n        </span>\r\n        <span>{{ data[labelname] }}</span>\r\n      </span>\r\n    </el-tree>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {host} from '@/api/api';\r\nexport default {\r\n  props: {\r\n    // 树数据\r\n    treedata: {\r\n      type: Array,\r\n      default: () => {\r\n        [];\r\n      }\r\n    },\r\n    // 是否有title\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // 当树名key名不是type的时候传入通过keyname传入属性名\r\n    keyname: {\r\n      type: String,\r\n      default: 'type'\r\n    },\r\n    // 当树名的属性名不是label的时候传入通过labelname传入属性名\r\n    labelname: {\r\n      type: String,\r\n      default: 'label'\r\n    },\r\n    // 是否出现复选框\r\n    showcheckbox: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      host,\r\n      expandClickStatus: false,\r\n      checkClickStatus: true\r\n    };\r\n  },\r\n  methods: {\r\n    getCheckedList() {\r\n      return this.$refs.tree.getCheckedKeys();\r\n    },\r\n    // 处理点击每一个节点做的事件并返回节点数据\r\n    nodeClick(nodeData, node, comp) {\r\n      this.$emit('nodeClick', {\r\n        nodeData,\r\n        node,\r\n        comp\r\n      });\r\n    },\r\n    checkChange () {\r\n      let checkedList = this.$refs.tree.getCheckedNodes();\r\n      this.$emit('checkedChange', checkedList)\r\n\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/styles/variables.scss';\r\n.tree-title {\r\n  width: 100%;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  padding-left: 20px;\r\n  background: #e4efff;\r\n  color: $menuActiveText;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayerTree.vue?vue&type=template&id=0c5227f0&\"\nimport script from \"./LayerTree.vue?vue&type=script&lang=js&\"\nexport * from \"./LayerTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayerTree.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"\">\r\n    <LayerTree\r\n      class=\"area-tree\"\r\n      :treedata=\"pointList\"\r\n      :showcheckbox=\"showcheckbox\"\r\n      title=\"管点图层\"\r\n      @checkedChange=\"changePoint\"\r\n    />\r\n    <LayerTree\r\n      class=\"area-tree\"\r\n      :treedata=\"lineList\"\r\n      :showcheckbox=\"showcheckbox\"\r\n      title=\"管线图层\"\r\n      @checkedChange=\"changeLine\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LayerTree from './LayerTree';\r\nimport {createNamespacedHelpers} from 'vuex';\r\nconst {mapState, mapActions} = createNamespacedHelpers('area');\r\nexport default {\r\n  data() {\r\n    return {\r\n      showcheckbox: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['pointList', 'lineList'])\r\n  },\r\n  mounted() {\r\n    this.getPointAndLine();\r\n  },\r\n  components: {\r\n    LayerTree\r\n  },\r\n  methods: {\r\n    ...mapActions(['getPointAndLine', 'changeCheckedPoint', 'changeCheckedLine']),\r\n    nodeClick({nodeData}) {\r\n      console.log(nodeData);\r\n    },\r\n    changePoint(list) {\r\n      this.changeCheckedPoint(list);\r\n    },\r\n    changeLine(list) {\r\n      this.changeCheckedLine(list);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layer.vue?vue&type=template&id=9b71aca6&\"\nimport script from \"./Layer.vue?vue&type=script&lang=js&\"\nexport * from \"./Layer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"area-manage area-list-namage\">\r\n    <Search :loading=\"loading\" @changeSearch=\"changeSearch\" @submit=\"submitSearchWord\" icon=\"\" placeholder=\"请输入片区名称\"></Search>\r\n    <div class=\"area-tabs\">\r\n      <el-tabs v-model=\"activeName\" class=\"snt-card-tabs\" type=\"card\">\r\n        <el-tab-pane label=\"片区管理\" name=\"area\">\r\n          <Area/>\r\n        </el-tab-pane>\r\n        <el-tab-pane class=\"layer-pane\" label=\"图层管理\" name=\"layer\">\r\n          <Layer />\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Search from '@/components/search';\r\nimport Area from './Area';\r\nimport Layer from './Layer'\r\nimport {createNamespacedHelpers} from 'vuex';\r\nconst {mapState, mapActions} = createNamespacedHelpers('area');\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName: 'area',\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['searchName'])\r\n  },\r\n  components: {\r\n    Search,\r\n    Area,\r\n    Layer\r\n  },\r\n  methods: {\r\n    ...mapActions(['getAreaListFunc', 'changeSearchName']),\r\n    submitSearchWord() {\r\n      this.loading = true;\r\n      this.getAreaListFunc().then(()=> {\r\n        this.loading = false;\r\n      }).catch(() => {\r\n        this.loading = false;\r\n      })\r\n    },\r\n    changeSearch(word) {\r\n      this.changeSearchName(word)\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AreaManage.vue?vue&type=template&id=91cbf25a&\"\nimport script from \"./AreaManage.vue?vue&type=script&lang=js&\"\nexport * from \"./AreaManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area-handle-btn\"},[_c('div',{staticClass:\"button-box\"},[_c('el-button',{on:{\"click\":_vm.addArea}},[_vm._v(\"新增片区\")]),_c('el-button',{attrs:{\"loading\":_vm.deleteLoading},on:{\"click\":_vm.deleteArea}},[_vm._v(\"删除片区\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.handleStatus === 1 || _vm.handleStatus === 2),expression:\"handleStatus === 1 || handleStatus === 2\"}],staticClass:\"area-manage right\"},[_c('div',{staticClass:\"area-tabs\"},[_c('div',{staticClass:\"area-lists-box area-info\"},[_c('div',{staticClass:\"area-content-box\"},[_c('div',{staticClass:\"area-title\"},[_vm._v(\"范围绘制\")]),_c('div',{staticClass:\"button-box area-draw text-center pt-10 pb-10\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.drawAreaFunc}},[_vm._v(\"划区域\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.resetDrawArea}},[_vm._v(\"重置范围\")])],1),_c('div',{staticClass:\"area-title\"},[_vm._v(\"片区信息\")]),_c('el-form',{ref:\"form\",staticClass:\"mt-10\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"85px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"片区名:\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入片区名\"},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1)],1),_c('div',{staticClass:\"area-title\"},[_vm._v(\"设备点信息\")]),_c('div',{staticClass:\"button-box text-center mt-10\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.showDeviceList}},[_vm._v(\"生成设备列表\")]),_c('div',{staticClass:\"text-left pl-10 mt-10\"},[_c('span',{staticClass:\"mr-20\"},[_vm._v(\"设备点：\"+_vm._s(_vm.areaInfo.selectPoint ? _vm.areaInfo.selectPoint.length : 0)+\"个\")]),_c('span',[_vm._v(\" 管线： \"+_vm._s(_vm.areaInfo.lineLength ? _vm.areaInfo.lineLength.toFixed(2) : 0)+\"km\")])])],1),_c('el-tabs',{staticClass:\"snt-card-tabs mt-10\",attrs:{\"type\":\"card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"设备\",\"name\":\"area\"}},[_c('DeviceTable',{attrs:{\"type\":1,\"table-cc\":\"123\",\"tabledata\":_vm.selectPoint},on:{\"deleteDevice\":_vm.deleteDeviceFunc,\"showInfo\":_vm.showPointInfo}})],1),_c('el-tab-pane',{attrs:{\"label\":\"管道\",\"name\":\"layer\"}},[_c('DeviceTable',{attrs:{\"type\":2,\"table-cc\":\"123\",\"tabledata\":_vm.selectLine},on:{\"deleteDevice\":_vm.deleteDeviceFunc,\"showInfo\":_vm.showLineInfo}})],1)],1)],1),_c('div',{staticClass:\"page-box button-box text-right\"},[_c('el-button',{attrs:{\"loading\":_vm.submitLoading,\"type\":\"primary\"},on:{\"click\":_vm.saveArea}},[_vm._v(\"保存\")]),_c('el-button',{on:{\"click\":_vm.cancelUpdate}},[_vm._v(\"取消\")])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-box\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"data\":_vm.tabledata,\"stripe\":true,\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"prop\":\"deviceCode\",\"label\":\"设备编号\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"deviceName\",\"label\":\"设备名称\"}}),_c('el-table-column',{attrs:{\"label-class-name\":\"handle\",\"width\":\"80\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{on:{\"click\":function($event){return _vm.showDeviceInfo(scope.$index)}}},[_vm._v(\"查看\")]),_c('a',{staticClass:\"ml-5\",on:{\"click\":function($event){return _vm.deleteFunc(scope.$index)}}},[_vm._v(\"移除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"table-box\">\r\n    <el-table\r\n      size=\"mini\"\r\n      ref=\"multipleTable\"\r\n      :data=\"tabledata\"\r\n      :stripe=\"true\"\r\n      tooltip-effect=\"dark\"\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column\r\n        prop=\"deviceCode\"\r\n        label=\"设备编号\"\r\n        show-overflow-tooltip\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"deviceName\"\r\n        label=\"设备名称\"\r\n      ></el-table-column>\r\n      <el-table-column label-class-name=\"handle\" width=\"80\" label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <a @click=\"showDeviceInfo(scope.$index)\">查看</a>\r\n          <a @click=\"deleteFunc(scope.$index)\" class=\"ml-5\">移除</a>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import {createNamespacedHelpers} from 'vuex';\r\n// const {mapState, mapActions} = createNamespacedHelpers('area');\r\nexport default {\r\n  props: {\r\n    tabledata: {\r\n      type: Array,\r\n      default: () => {\r\n        [];\r\n      }\r\n    },\r\n    type: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  methods: {\r\n    // ...mapActions(['deleteDeviceSigle']),\r\n    showDeviceInfo(index) {\r\n      this.$emit('showInfo', index);\r\n    },\r\n    deleteFunc (index) {\r\n      this.$emit('deleteDevice', {\r\n        type: this.type,\r\n        index\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeviceTable.vue?vue&type=template&id=67e96f98&\"\nimport script from \"./DeviceTable.vue?vue&type=script&lang=js&\"\nexport * from \"./DeviceTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"area-handle-btn\">\r\n    <div class=\"button-box\">\r\n      <el-button @click=\"addArea\">新增片区</el-button>\r\n      <el-button :loading=\"deleteLoading\" @click=\"deleteArea\">删除片区</el-button>\r\n    </div>\r\n    <div v-show=\"handleStatus === 1 || handleStatus === 2\" class=\"area-manage right\">\r\n      <div  class=\"area-tabs\">\r\n        <div class=\"area-lists-box area-info\">\r\n          <div class=\"area-content-box\">\r\n            <div class=\"area-title\">范围绘制</div>\r\n            <div class=\"button-box area-draw text-center pt-10 pb-10\">\r\n              <el-button @click=\"drawAreaFunc\" type=\"primary\" plain>划区域</el-button>\r\n              <el-button @click=\"resetDrawArea\" type=\"primary\" plain>重置范围</el-button>\r\n            </div>\r\n            <div class=\"area-title\">片区信息</div>\r\n            <el-form\r\n              :model=\"ruleForm\"\r\n              label-width=\"85px\"\r\n              :rules=\"rules\"\r\n              class=\"mt-10\"\r\n              ref=\"form\"\r\n            >\r\n              <el-form-item prop=\"name\" label=\"片区名:\">\r\n                <el-input v-model=\"ruleForm.name\" placeholder=\"请输入片区名\" />\r\n              </el-form-item>\r\n            </el-form>\r\n            <div class=\"area-title\">设备点信息</div>\r\n            <div class=\"button-box text-center mt-10\">\r\n              <el-button type=\"primary\" @click=\"showDeviceList\" plain>生成设备列表</el-button>\r\n              <div class=\"text-left pl-10 mt-10\">\r\n                <span class=\"mr-20\">设备点：{{areaInfo.selectPoint ? areaInfo.selectPoint.length : 0}}个</span>\r\n                <span> 管线： {{areaInfo.lineLength ? areaInfo.lineLength.toFixed(2) : 0}}km</span>\r\n              </div>\r\n            </div>\r\n            <el-tabs v-model=\"activeName\" class=\"snt-card-tabs mt-10\" type=\"card\">\r\n              <el-tab-pane label=\"设备\" name=\"area\">\r\n                <DeviceTable :type=\"1\" @deleteDevice=\"deleteDeviceFunc\" @showInfo=\"showPointInfo\" table-cc=\"123\" :tabledata=\"selectPoint\"></DeviceTable>\r\n              </el-tab-pane>\r\n              <el-tab-pane label=\"管道\" name=\"layer\">\r\n                <DeviceTable :type=\"2\" @deleteDevice=\"deleteDeviceFunc\" @showInfo=\"showLineInfo\" table-cc=\"123\" :tabledata=\"selectLine\"></DeviceTable>\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </div>\r\n          <div class=\"page-box button-box text-right\">\r\n            <el-button :loading=\"submitLoading\" @click=\"saveArea\" type=\"primary\">保存</el-button>\r\n            <el-button @click=\"cancelUpdate\">取消</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import {Message} from 'element-ui';\r\nimport DeviceTable from './DeviceTable';\r\nimport {createNamespacedHelpers} from 'vuex';\r\nconst {mapState, mapActions} = createNamespacedHelpers('area');\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeName: 'area',\r\n      ruleForm: {\r\n        name: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入片区名', trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 新增和编辑区域的loading\r\n      submitLoading: false,\r\n      // 删除区域loading\r\n      deleteLoading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['areaInfo', 'handleStatus', 'selectPoint', 'selectLine', 'chooseAreaId'])\r\n    // ...mapGetters(['lineLength'])\r\n  },\r\n  mounted() {\r\n    // this.$parent.$ref.map.initDrawMap();\r\n  },\r\n  components: {\r\n    DeviceTable\r\n  },\r\n  methods: {\r\n    ...mapActions(['changeAreaInfo', 'changeHandleStatus', 'addAreaFunc', 'updataAreaFunc', 'deleteAreaFunc', 'deleteDeviceSigle']),\r\n    // 改变操作的方式\r\n    changeStatus(status) {\r\n      this.changeHandleStatus(status)\r\n    },\r\n\r\n    // 删除设备\r\n    deleteDeviceFunc(data) {\r\n      this.deleteDeviceSigle(data);\r\n    },\r\n\r\n    // 新增片区\r\n    addArea() {\r\n      if(this.handleStatus) {\r\n        this.$alert('请先保存片区！', '提示', {\r\n          confirmButtonText: '确定',\r\n        });\r\n        return false;\r\n      }\r\n      this.changeAreaInfo({})\r\n      this.changeStatus(1);\r\n    },\r\n\r\n    // 删除片区\r\n    deleteArea() {\r\n      console.log(this.chooseAreaId)\r\n      let chooseAreaId = this.chooseAreaId;\r\n      if(chooseAreaId.length < 1) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '请先选择要操作的数据'\r\n        })\r\n        return false;\r\n      }\r\n      this.deleteLoading = true;\r\n      this.deleteAreaFunc({\r\n        id: chooseAreaId\r\n      }).then(() => {\r\n        this.deleteLoading = false;\r\n      }).catch(() => {\r\n        this.deleteLoading = false;\r\n      });\r\n    },\r\n\r\n    // 点击画区域按钮\r\n    drawAreaFunc() {\r\n      this.$parent.$refs.map.drawAreaFunc();\r\n    },\r\n    // 重置绘制的区域范围\r\n    resetDrawArea() {\r\n      this.$parent.$refs.map.resetDrawArea();\r\n    },\r\n    // 取消编译信息\r\n    cancelUpdate () {\r\n      this.$refs.form.resetFields();\r\n      this.changeStatus('');\r\n      this.$parent.$refs.map.resetDrawArea();\r\n    },\r\n    // 生成设备列表\r\n    showDeviceList() {\r\n      var areaInfo = this.$parent.$refs.map.getAreaInfo();\r\n      this.changeAreaInfo(areaInfo)\r\n    },\r\n    showPointInfo(index) {\r\n      let pointList = this.areaInfo.selectPoint;\r\n      let currentPoint = [];\r\n      currentPoint = pointList[index];\r\n      this.$parent.$refs.map.setMapOverLayInfo(currentPoint)\r\n    },\r\n    showLineInfo(index) {\r\n      let lineList = this.areaInfo.selectLine;\r\n      let currentList = [];\r\n      currentList = lineList[index];\r\n      this.$parent.$refs.map.setMapOverLayInfo(currentList)\r\n    },\r\n\r\n    // 设置片区名i\r\n    setName(name) {\r\n      this.ruleForm.name = name;\r\n    },\r\n\r\n    // 重置片区内容\r\n    resetArea() {\r\n      this.$refs.form.resetFields();\r\n      this.changeAreaInfo({});\r\n      this.resetDrawArea()\r\n    },\r\n\r\n    // 保存区域信息\r\n    saveArea() {\r\n      let _this = this;\r\n      this.$refs.form.validate((valid)=> {\r\n        if(!valid) return false;\r\n        if((!_this.areaInfo.selectPoint || _this.areaInfo.selectPoint.length < 1) && (!_this.areaInfo.selectLine || _this.areaInfo.selectLine.length < 1)) {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '请选择设备或者管道'\r\n          })\r\n          return false;\r\n        }\r\n        this.submitLoading = true;\r\n        let areaDetail = {\r\n          name: _this.ruleForm.name,\r\n          pipelineLength: _this.areaInfo.lineLength || 0,\r\n          pointCount: _this.areaInfo.selectPoint.length || 0,\r\n          areaPoint: _this.areaInfo.area,\r\n          deviceLists: _this.areaInfo.selectPoint,\r\n          pipelineLists: _this.areaInfo.selectLine\r\n        };\r\n        if(_this.handleStatus === 1) {\r\n          this.addAreaFunc(areaDetail)    \r\n          .then(resp => {\r\n            console.log(resp)\r\n            this.resetArea();\r\n            this.submitLoading = false; \r\n          })\r\n          .catch(() => {\r\n            this.submitLoading = false; \r\n          })\r\n        } else {\r\n          var id = this.areaInfo.id || '';\r\n          if(!id) {\r\n            this.$message({\r\n              message: '请选择编辑的片区',\r\n              type: 'error',\r\n              duration: 2 * 1000\r\n            });\r\n            return false;\r\n          }\r\n          areaDetail.id = id;\r\n          this.updataAreaFunc(areaDetail)\r\n          .then(resp => {\r\n            console.log(resp);\r\n            this.resetArea();\r\n            this.submitLoading = false; \r\n          })\r\n          .catch(() => {\r\n            this.submitLoading = false; \r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n   ","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=52b82e6c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"area-panet\">\r\n    <AreaManage></AreaManage>\r\n    <Map ref=\"map\"></Map>\r\n    <AreaInfo ref=\"areaInfo\"></AreaInfo>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from './AreaMap';\r\nimport AreaManage from './AreaManage';\r\nimport AreaInfo from './areaInfo';\r\nexport default {\r\n  components: {\r\n    Map,\r\n    AreaManage,\r\n    AreaInfo\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* @import '~@/styles/style.scss'; */\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5c8e251d&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-box\"},[_c('el-input',{attrs:{\"placeholder\":_vm.placeholder,\"prefix-icon\":_vm.icon},on:{\"input\":_vm.changeWords},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.searchWords),callback:function ($$v) {_vm.searchWords=$$v},expression:\"searchWords\"}}),(_vm.isButton)?_c('el-button',{staticClass:\"search-button\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},domProps:{\"innerHTML\":_vm._s(_vm.text)},on:{\"click\":_vm.submit}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-box\">\r\n    <el-input\r\n      :placeholder=\"placeholder\"\r\n      :prefix-icon=\"icon\"\r\n      v-model=\"searchWords\"\r\n      @input=\"changeWords\"\r\n      @keyup.enter.native=\"submit\"\r\n    ></el-input>\r\n    <el-button\r\n      v-html=\"text\"\r\n      v-if=\"isButton\"\r\n      @click=\"submit\"\r\n      class=\"search-button\"\r\n      type=\"primary\"\r\n      :loading=\"loading\"\r\n    ></el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    icon: {\r\n      type: String,\r\n      default: 'el-icon-search'\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: '查询'\r\n    },\r\n    isButton: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '请输入内容'\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      searchWords: ''\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$emit('submit', this.searchWords);\r\n    },\r\n    changeWords(value) {\r\n      this.$emit('changeSearch', value)\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.search-box {\r\n  width: 100%;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  .el-input {\r\n    width: 220px;\r\n    font-size: 12px;\r\n  }\r\n  .search-button {\r\n    margin-left: 5px;\r\n  }\r\n  .el-input__inner {\r\n    height: 32px;\r\n    line-height: 32px;\r\n    border: 1px solid #4b77be;\r\n  }\r\n  .el-input__icon {\r\n    line-height: 32px;\r\n  }\r\n  .el-input.is-active .el-input__inner,\r\n  .el-input__inner:focus {\r\n    border-color: #c0c4cc;\r\n    outline: 0;\r\n  }\r\n  .el-input--mini .el-input__inner {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding: 0 10px;\r\n  }\r\n  .search-button {\r\n    height: 32px;\r\n    line-height: 32px;\r\n    padding: 0 20px;\r\n    vertical-align: top;\r\n    background: #4b77be;\r\n    border-color: #4b77be;\r\n    &:hover,\r\n    &:focus {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71c1df1e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuText\":\"#bfcbd9\",\"menuActiveText\":\"#4b77be\",\"subMenuActiveText\":\"#f4f4f5\",\"menuBg\":\"#304156\",\"menuHover\":\"#e4efff\",\"subMenuBg\":\"#c7ddfd\",\"subMenuHover\":\"#e4efff\",\"sideBarWidth\":\"190px\",\"borderColor\":\"#ddd\"};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaMap.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaMap.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}