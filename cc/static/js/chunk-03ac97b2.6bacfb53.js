(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03ac97b2"],{1427:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-box"},[i("el-input",{attrs:{placeholder:t.placeholder,"prefix-icon":t.icon},on:{input:t.changeWords},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.searchWords,callback:function(e){t.searchWords=e},expression:"searchWords"}}),t.isButton?i("el-button",{staticClass:"search-button",attrs:{type:"primary",loading:t.loading},domProps:{innerHTML:t._s(t.text)},on:{click:t.submit}}):t._e()],1)},a=[],l={props:{icon:{type:String,default:"el-icon-search"},text:{type:String,default:"查询"},isButton:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入内容"},loading:{type:Boolean,default:!1}},data:function(){return{searchWords:""}},methods:{submit:function(){this.$emit("submit",this.searchWords)},changeWords:function(t){this.$emit("changeSearch",t)}}},n=l,o=(i("fc27"),i("2877")),c=Object(o["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports},"190f":function(t,e,i){"use strict";var s=i("a59e"),a=i.n(s);a.a},"2d30":function(t,e,i){},"2f3b":function(t,e,i){},4352:function(t,e,i){},"506d":function(t,e,i){"use strict";var s=i("4352"),a=i.n(s);a.a},"5e70":function(t,e,i){"use strict";var s=i("7057"),a=i.n(s);a.a},7057:function(t,e,i){},"881f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inspection-box button-box"},[i("div",{staticClass:"header-box"},[i("div",{staticClass:"header-left"},[i("snt-search",{attrs:{placeholder:"请输入任务名称"}})],1),i("div",{staticClass:"header-right"},[i("el-button-group",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.See}},[t._v("查看")]),i("el-button",{attrs:{type:"primary",plain:""}},[t._v("导出")])],1)],1)]),i("div",{staticClass:"content-box"},[i("div",{staticClass:"table-box"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.equipmentList,stripe:!0,border:"","tooltip-effect":"dark",height:"830"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),i("el-table-column",{attrs:{prop:"name",label:"设备名称","min-width":"120","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"code",label:"设备编号"}}),i("el-table-column",{attrs:{prop:"inspectionCount",label:"今年巡检次数","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"eventCount",label:"今年触发事件次数","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"workCount",label:"今年转工单次数","show-overflow-tooltip":""}})],1)],1),i("div",{staticClass:"page-box"},[i("page",{attrs:{"page-data":[30,40,50,100],total:400},on:{changePageSize:t.changePageSize,changeCurrentPage:t.changeCurrentPage}})],1)]),i("message",{attrs:{"dialog-message":t.dialogMessage,message:t.messageText},on:{closeMessage:t.closeMessage}}),i("view-detail",{attrs:{"dialog-view":t.dialogView},on:{closeView:t.closeView}})],1)},a=[],l=i("5530"),n=i("1427"),o=i("7a3b"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addTask-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"任务详情",visible:t.dialogView},on:{"update:visible":function(e){t.dialogView=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"cancel-box",on:{click:t.closeView}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),i("div",{staticClass:"tabs-box"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"综合情况",name:"basicInfo"}},[i("div",{staticClass:"basicInfo-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.name))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备编号：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.code))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备坐标：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.point))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("地址：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.address))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年被巡检次数：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.inspectionCount))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年触发事件次数：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.eventCount))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("今年转工单次数：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.equipmentDetails.workCount))])])])])])]),i("el-tab-pane",{attrs:{label:"巡检任务",name:"equipmentInfo"}},[i("div",{staticClass:"equipmentInfo-box"},[i("div",{staticClass:"table-box"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.equipmentTaskList,stripe:!0,"tooltip-effect":"dark","show-overflow-tooltip":!0,height:"400","highlight-current-row":!0}},[i("el-table-column",{attrs:{align:"center",prop:"name",label:"任务名称"}}),i("el-table-column",{attrs:{align:"center",prop:"typeStr",label:"任务类别"}}),i("el-table-column",{attrs:{align:"center",prop:"person",label:"负责人"}}),i("el-table-column",{attrs:{align:"center",prop:"endTime",label:"实际完成时间"}}),i("el-table-column",{attrs:{align:"center",prop:"suspendTimeStr",label:"暂停时长"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"任务状态"}}),i("el-table-column",{attrs:{width:"100",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.handleSee(e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:t.equipmentTaskPageInfo.total},on:{changePageSize:t.changeTaskPageSize,changeCurrentPage:t.changeTaskCurrentPage}})],1)]),i("el-tab-pane",{attrs:{label:"事件列表",name:"inspectionPath"}},[i("div",{staticClass:"inspectionPath-box"},[i("div",{staticClass:"table-box"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.equipmentEventList,stripe:!0,"tooltip-effect":"dark","show-overflow-tooltip":!0,height:"400","highlight-current-row":!0}},[i("el-table-column",{attrs:{align:"center",prop:"typeStr",label:"事件类型"}}),i("el-table-column",{attrs:{align:"center",prop:"person",label:"报告人"}}),i("el-table-column",{attrs:{align:"center",prop:"creationTime",label:"提交时间"}}),i("el-table-column",{attrs:{align:"center",prop:"errorType",label:"异常类型"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"事件状态"}}),i("el-table-column",{attrs:{width:"100",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.SeeEventDetail(e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:t.equipmentEventPageInfo.total},on:{changePageSize:t.changeEventPageSize,changeCurrentPage:t.changeEventCurrentPage}})],1)])],1)],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeView}},[t._v("取 消")])],1)]),i("view-task-detail",{attrs:{"dialog-view-detail":t.dialogViewDetail},on:{closeViewDetail:t.closeViewDetail}}),i("view-event-detail",{attrs:{"dialog-event-view":t.dialogEventView},on:{closeViewEvent:t.closeViewEvent}})],1)},v=[],d=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addTask-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"任务详情",visible:t.dialogViewDetail},on:{"update:visible":function(e){t.dialogViewDetail=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"cancel-box",on:{click:t.closeViewDetail}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),i("div",{staticClass:"tabs-box"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"基础信息",name:"basicInfo"}},[i("div",{staticClass:"basicInfo-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.name))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务负责人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.person))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.statusStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("参与人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.participants))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("任务类别：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.typeStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("预计结束时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.planEndTime))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("实际结束时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.endTime))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("开始时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.startTime))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("暂停时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.pauseTime))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("巡检片区：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.areaName))]),i("el-button",{staticClass:"view-button",on:{click:t.viewRoute}},[t._v("查看路线")])],1)])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("备注：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.taskDetail.remark))])])])])])]),i("el-tab-pane",{attrs:{label:"设备点巡检信息",name:"equipmentInfo"}},[i("div",{staticClass:"equipmentInfo-box"},[i("div",{staticClass:"table-box"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.inspectionPointList,stripe:!0,"tooltip-effect":"dark",height:"400","highlight-current-row":!0}},[i("el-table-column",{attrs:{align:"center",prop:"name",label:"设备名称"}}),i("el-table-column",{attrs:{align:"center",prop:"code",label:"设备编号"}}),i("el-table-column",{attrs:{align:"center",prop:"statusStr",label:"设备点情况"}}),i("el-table-column",{attrs:{align:"center",prop:"inspectionStatusStr",label:"巡检状态"}}),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"operate-button",attrs:{type:"text"},on:{click:function(i){return t.handleSee(e.row)}}},[t._v("查看")])]}}])})],1)],1),i("page",{attrs:{"page-data":[30,40,50,100],total:400},on:{changePageSize:t.changePageSize,changeCurrentPage:t.changeCurrentPage}})],1)]),i("el-tab-pane",{attrs:{label:"巡检路径",name:"inspectionPath"}},[i("div",{staticClass:"inspectionPath-box"},[i("div",{staticClass:"map-box"}),i("div",{staticClass:"inspectionPath-info-box button-box"},[i("div",{staticClass:"inspectionPath-info-item"},[i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 巡检路线： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" *****巡检线路 ")])]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 设备点数： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 15个 ")])]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 管道长度： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 5.78km ")])])]),i("div",{staticClass:"inspectionPath-info-item"},[i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 规划路径： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[i("el-button",{attrs:{type:"primary",plain:""}},[t._v(" 显示 ")])],1)]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 预计里程： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 1.95km ")])]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 预计花费时间： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 0.10小时 ")])])]),i("div",{staticClass:"inspectionPath-info-item"},[i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 实际路径： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[i("el-button",{attrs:{type:"primary",plain:""}},[t._v(" 隐藏 ")])],1)]),i("div",{staticClass:"inspectionPath-info-items"},[i("div",{staticClass:"inspectionPath-info-item-title"},[t._v(" 实际花费时间： ")]),i("div",{staticClass:"inspectionPath-info-item-content"},[t._v(" 0.00小时 ")])])])])])])],1)],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeViewDetail}},[t._v("取 消")])],1)]),i("equipment-info",{attrs:{"dialog-equi":t.dialogEqui},on:{getEquiData:t.getEquiData}}),i("view-route",{attrs:{"dialog-route":t.dialogRoute},on:{getRouteData:t.getRouteData}})],1)}),r=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"equipment-Information-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"设备点巡检任务详情",visible:t.dialogEqui},on:{"update:visible":function(e){t.dialogEqui=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"cancel-box",on:{click:t.closeEqui}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),i("div",{staticClass:"equip-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.name))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备编号：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.code))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点坐标：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.point))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点巡检时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.time))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("巡检状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.inspectionStatusStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.statusStr))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("地址：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.pointDetails.address))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("巡检内容：")]),i("div",{staticClass:"item-content"},[i("div",{staticClass:"content-text"},[t._v(" "+t._s(t.pointDetails.content)+" ")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("附件：")]),i("div",{staticClass:"item-content"},[i("div",{staticClass:"enclosure-box"},t._l(t.pointDetails.resourcelist,(function(e,s){return i("div",{key:s,staticClass:"enclosure-item"},[i("div",{staticClass:"enclosure-title"},[t._v(t._s(e.fileName))]),i("div",{staticClass:"enclosure-download"},[t._v("下载")]),i("div",{staticClass:"enclosure-preview"},[t._v("预览")])])})),0)])])])])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeEqui}},[t._v("取 消")])],1)])],1)},u=[],p=i("2f62"),C=Object(p["a"])("taskManagement"),g=C.mapState,h={name:"EquipmentInformation",props:["dialogEqui"],computed:Object(l["a"])({},g(["pointDetails"])),data:function(){return{}},methods:{closeEqui:function(){var t={dialogEqui:!1,data:[]};this.$emit("getEquiData",t)}}},b=h,f=(i("5e70"),i("2877")),_=Object(f["a"])(b,m,u,!1,null,"1440d000",null),w=_.exports,P=i("597c"),D=Object(p["a"])("taskManagement"),k=D.mapState,x=D.mapActions,S={name:"viewTask",props:["dialogViewDetail"],components:{Page:o["a"],EquipmentInfo:w,ViewRoute:P["a"]},computed:Object(l["a"])({},k(["taskDetail","inspectionPointList"])),data:function(){return{activeName:"basicInfo",addForm:{taskName:"巡检任务1",inCharge:"测试人员",estimatedStartTime:"2020-09-23 23:00:00",estimatedEndTime:"2020-09-24 23:00:00",taskType:"普通任务",inspectionArea:"巡检片区1",remarks:"这里是备注内容"},tableData:[{equipmentName:"阀门",equipmentNumber:"123456789",equipmentPoints:"正常",inspectionStatus:"已巡检"},{equipmentName:"阀门",equipmentNumber:"123456789",equipmentPoints:"异常",inspectionStatus:"已巡检"},{equipmentName:"阀门",equipmentNumber:"123456789",equipmentPoints:"未知",inspectionStatus:"未巡检"}],checkedName:"",dialogEqui:!1,dialogRoute:!1,currentPage:1,pageSize:30}},methods:Object(l["a"])(Object(l["a"])({},x(["GetInspectionPointList","GetInspectionPointList","GetPointDetails"])),{},{closeViewDetail:function(){var t={dialogViewDetail:!1,data:[]};this.$emit("closeViewDetail",t)},viewRoute:function(){this.dialogRoute=!0},handleClick:function(t){console.log(t),"equipmentInfo"==t.name&&this.getData()},getData:function(){var t={Id:this.taskDetail.id,pageIndex:this.currentPage,maxResultCount:this.pageSize};this.GetInspectionPointList(t)},changePageSize:function(t){console.log(t)},changeCurrentPage:function(t){console.log(t)},handleSee:function(t){console.log(t);var e={deviceId:t.id,taskId:this.taskDetail.id,inspectionStatus:t.inspectionStatus,status:t.status};console.log(e),this.GetPointDetails(e),this.dialogEqui=!0},clickRow:function(t){console.log(t),this.checkedName=t.name},getEquiData:function(t){this.dialogEqui=t.dialogEqui},getRouteData:function(t){this.dialogRoute=t.dialogRoute}})},q=S,E=(i("a21a"),Object(f["a"])(q,d,r,!1,null,"114b40bc",null)),V=E.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addTask-box dialog-box button-box"},[i("el-dialog",{attrs:{title:"事件详情",visible:t.dialogEventView},on:{"update:visible":function(e){t.dialogEventView=e}}},[i("div",{staticClass:"content-box form-box"},[i("div",{staticClass:"cancel-box",on:{click:t.closeViewEvent}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),i("div",{staticClass:"list-box"},[i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备名称：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.deviceName))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备编号：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.deviceCode))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备坐标：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.devicePoint))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("地址：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.address))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("设备点状态：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.deviceStatusStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("异常类型：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.errorType))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("事件类型：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.typeStr))])])]),i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("事件提交时间：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.creationTime))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items has-two-item"},[i("div",{staticClass:"item-title"},[t._v("报告人：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.creationName))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("预估损失水量：")]),i("div",{staticClass:"item-content"},[i("span",[t._v(t._s(t.eventDetails.predictWaterLoss))])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("巡检内容：")]),i("div",{staticClass:"item-content"},[i("div",{staticClass:"content-script"},[t._v(" "+t._s(t.eventDetails.content)+" ")])])])]),i("div",{staticClass:"list-item"},[i("div",{staticClass:"list-items"},[i("div",{staticClass:"item-title"},[t._v("附件：")]),i("div",{staticClass:"item-content"},[i("div",{staticClass:"enclosure-box"},[i("div",{staticClass:"image-box"},t._l(t.eventDetails.resourcelist,(function(e,s){return i("div",{key:s,staticClass:"img-box",on:{click:function(i){return t.openPre(e)}}},[i("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.httpUrl+e.url,fit:"cover"}})],1)})),0)])])])])])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeViewEvent}},[t._v("取 消")])],1)]),i("pre-view",{attrs:{"dialog-preview":t.dialogPreview,"file-data":t.fileData},on:{closePreview:t.closePreview}})],1)},I=[],T=i("c77e"),O=Object(p["a"])("eventManagement"),j=O.mapState,N=Object(p["a"])("upload"),z=N.mapState,L={name:"ViewEventDetail",props:["dialogEventView"],data:function(){return{dialogPreview:!1,fileData:""}},components:{preView:T["a"]},computed:Object(l["a"])(Object(l["a"])({},j(["eventDetails"])),z(["httpUrl"])),methods:{closeViewEvent:function(){var t=!1;this.$emit("closeViewEvent",t)},closePreview:function(t){this.dialogPreview=t},openPre:function(t){this.fileData=t,this.dialogPreview=!0}}},G=L,M=(i("190f"),Object(f["a"])(G,y,I,!1,null,"c3e202da",null)),R=M.exports,$=Object(p["a"])("equipment"),W=$.mapState,A=$.mapActions,B=Object(p["a"])("taskManagement"),U=B.mapActions,J=Object(p["a"])("eventManagement"),F=J.mapActions,H={name:"Viewdetail",props:["dialogView"],components:{Page:o["a"],ViewTaskDetail:V,ViewEventDetail:R},computed:Object(l["a"])({},W(["equipmentTaskList","equipmentEventList","equipmentDetails","equipmentTaskPageInfo","equipmentEventPageInfo"])),data:function(){return{activeName:"basicInfo",checkedName:"",dialogEqui:!1,dialogRoute:!1,dialogViewDetail:!1,dialogEventView:!1,taskCurrentPage:1,taskPageSize:30,eventCurrentPage:1,eventPageSize:30}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},A(["GetDeviceTaskList","GetDeviceEventList"])),U(["GetTaskDetails"])),F(["GetEventDetails"])),{},{closeView:function(){var t={dialogView:!1,data:[]};this.$emit("closeView",t)},handleClick:function(t){if(console.log(t),"equipmentInfo"==t.name){var e={Id:this.equipmentDetails.id,pageIndex:this.taskCurrentPage,MaxResultCount:this.taskPageSize};this.GetDeviceTaskList(e)}else if("inspectionPath"==t.name){var i={Id:this.equipmentDetails.id,pageIndex:this.eventCurrentPage,MaxResultCount:this.eventPageSize};this.GetDeviceEventList(i)}},changeTaskPageSize:function(t){console.log(t)},changeTaskCurrentPage:function(t){console.log(t)},changeEventPageSize:function(t){console.log(t)},changeEventCurrentPage:function(t){console.log(t)},handleSee:function(t){console.log(t);var e={Id:t.id};this.GetTaskDetails(e),this.dialogViewDetail=!0},SeeEventDetail:function(t){console.log(t);var e={Id:t.id};this.GetEventDetails(e),this.dialogEventView=!0},closeViewDetail:function(t){this.dialogViewDetail=t.dialogViewDetail},closeViewEvent:function(t){this.dialogEventView=t}})},K=H,Q=(i("506d"),Object(f["a"])(K,c,v,!1,null,"d751b172",null)),X=Q.exports,Y=i("6e6c"),Z=Object(p["a"])("equipment"),tt=Z.mapState,et=Z.mapActions,it={name:"Equipment",components:{"snt-search":n["a"],Page:o["a"],ViewDetail:X,Message:Y["a"]},computed:Object(l["a"])({},tt(["equipmentList"])),data:function(){return{searchWords:"",multipleSelection:[],currentPage:1,pageSize:30,dialogView:!1,dialogMessage:!1,messageText:""}},methods:Object(l["a"])(Object(l["a"])({},et(["GetDeviceInspectionList","GetDeviceInspectionDetails"])),{},{handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},onlyOne:function(){return 0==this.multipleSelection.length?(console.log("请选择要操作数据"),this.messageText="请选择要操作数据",this.dialogMessage=!0,!1):!(this.multipleSelection.length>1)||(this.messageText="只能选择一行数据",this.dialogMessage=!0,console.log("只能选择一行数据"),!1)},See:function(){if(this.onlyOne()){var t={Id:this.multipleSelection[0].id};this.GetDeviceInspectionDetails(t),this.dialogView=!0}},closeMessage:function(t){this.dialogMessage=t},changePageSize:function(t){console.log(t)},changeCurrentPage:function(t){console.log(t),this.currentPage=t},closeView:function(t){this.dialogView=t.dialogView},getData:function(){var t={pageIndex:this.currentPage,maxResultCount:this.pageSize};this.GetDeviceInspectionList(t)}}),mounted:function(){this.getData()}},st=it,at=(i("fea4"),Object(f["a"])(st,s,a,!1,null,"522e0bfd",null));e["default"]=at.exports},"972a":function(t,e,i){},a21a:function(t,e,i){"use strict";var s=i("972a"),a=i.n(s);a.a},a59e:function(t,e,i){},b7c4:function(t,e,i){"use strict";var s=i("2d30"),a=i.n(s);a.a},c77e:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview-box"},[i("el-dialog",{attrs:{title:"附件预览",visible:t.dialogPreview},on:{"update:visible":function(e){t.dialogPreview=e}}},[i("div",{staticClass:"content-box"},[i("div",{staticClass:"cancel-box",on:{click:t.closePreview}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]),i("div",{staticClass:"content_box"},[i("img",{staticClass:"img",attrs:{src:t.httpUrl+t.fileData.url,alt:""}})])]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closePreview}},[t._v("取 消")])],1)])],1)},a=[],l=i("5530"),n=i("2f62"),o=Object(n["a"])("upload"),c=o.mapState,v={name:"Preview",props:["dialogPreview","fileData"],computed:Object(l["a"])({},c(["httpUrl"])),methods:{closePreview:function(){var t=!1;this.$emit("closePreview",t)}}},d=v,r=(i("b7c4"),i("2877")),m=Object(r["a"])(d,s,a,!1,null,"e986758a",null);e["a"]=m.exports},d603:function(t,e,i){},fc27:function(t,e,i){"use strict";var s=i("2f3b"),a=i.n(s);a.a},fea4:function(t,e,i){"use strict";var s=i("d603"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-03ac97b2.6bacfb53.js.map